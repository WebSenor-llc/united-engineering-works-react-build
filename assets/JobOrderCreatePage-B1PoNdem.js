import{r as y,j as e,W as ne,X as Q,Y as X,Z as oe,$ as le,a0 as ie,y as O,u as de,b as ce,a as Z,B as Y,A as G,h as k,e as R}from"./index-tcS5gCoO.js";import{L as me}from"./Loading-BJ2f4d1H.js";import{F as pe}from"./FormHeader-B8x7chaq.js";import{T as ue,a as xe}from"./TableWrapper-BOyIOkDJ.js";import{T as ge}from"./TableRow-B1rFLFiW.js";import{T}from"./TableData-jAiBRPDM.js";import{T as fe}from"./TableActions-BTram3Ae.js";import{T as he}from"./TableDelete-DiRjpVQp.js";import{S as be}from"./SearchableSelect-D0lgrAwt.js";import{o as je,w as _e}from"./yup-DY0GYKWV.js";import{u as ye,b as Ne,C as x}from"./index.esm-DeJALOLU.js";import{u as ve}from"./useMachineStore-Bx-hcId2.js";import{b as ee}from"./rolePermissions-BvMMyxfj.js";import"./BackButton-DnVaUWoS.js";import"./enum-SoLNwffs.js";const we=({label:j="Upload Files",required:g=!1,maxFiles:l=10,value:d=[],onChange:N,onRemoveItem:v,error:F,acceptedTypes:L=["image/*","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]})=>{const[D,C]=y.useState(!1),A=y.useRef(null),J=t=>{t.preventDefault(),C(!0)},$=t=>{t.preventDefault(),C(!1)},z=t=>{t.preventDefault(),C(!1);const a=Array.from(t.dataTransfer.files);U(a)},H=t=>{if(t.target.files){const a=Array.from(t.target.files);U(a)}},U=t=>{const a=t.filter(f=>{const w=f.type&&typeof f.type=="string"&&f.type.startsWith("image/"),I=f.type==="application/pdf",S=f.type&&(f.type.includes("excel")||f.type.includes("spreadsheet"));return w||I||S});a.length!==t.length&&O.error("Only images, PDF, and Excel files are allowed.");const m=Array.isArray(d)?d.filter(f=>f instanceof File):[],b=Array.isArray(d)?d.filter(f=>typeof f=="string"):[];if(m.length+a.length>l){O.error(`You can only upload up to ${l} files.`);return}N([...b,...m,...a])},q=t=>{const a=Array.isArray(d)?[...d]:[],m=a[t];v?v(m,t):(a.splice(t,1),N(a))},P=()=>{A.current?.click()},V=t=>{let a="";if(t instanceof File)a=t.type||"";else if(typeof t=="string"){const m=t.toLowerCase().split(".").pop()||"";["jpg","jpeg","png","gif","webp"].includes(m)?a="image/":m==="pdf"?a="application/pdf":["xls","xlsx"].includes(m)&&(a="application/vnd.ms-excel")}else if(t&&typeof t=="object"){const b=(t.image_path||t.path||"").toLowerCase().split(".").pop()||"";["jpg","jpeg","png","gif","webp"].includes(b)?a="image/":b==="pdf"?a="application/pdf":["xls","xlsx"].includes(b)&&(a="application/vnd.ms-excel")}return a&&typeof a=="string"&&a.startsWith("image/")?e.jsx(oe,{className:"text-blue-500 text-2xl"}):a&&typeof a=="string"&&a.includes("pdf")?e.jsx(le,{className:"text-red-500 text-2xl"}):a&&typeof a=="string"&&(a.includes("excel")||a.includes("spreadsheet"))?e.jsx(ie,{className:"text-green-500 text-2xl"}):e.jsx(X,{className:"text-gray-500 text-2xl"})},c=t=>{if(t===0)return"0 Bytes";const a=1024,m=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(t)/Math.log(a));return parseFloat((t/Math.pow(a,b)).toFixed(2))+" "+m[b]},i=Array.isArray(d)?d.filter(t=>t instanceof File):[],B="https://united.peclick.co.in",u=t=>{if(t instanceof File)return URL.createObjectURL(t);if(typeof t=="string"){if(!t)return"";try{return t.startsWith("http")?t:`${B}/${t}`}catch(a){return console.error("Error in getImageUrl:",a),""}}if(t&&typeof t=="object"){const a=t.image_path||t.path||"";if(!a)return"";try{return a.startsWith("http")?a:`${B}/${a}`}catch(m){return console.error("Error in getImageUrl:",m),""}}return""};return e.jsxs("div",{className:"w-full space-y-4",children:[j&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[j," ",g&&e.jsx("span",{className:"text-red-500",children:"*"})," (Max"," ",l,")"]}),i.length<l&&e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center cursor-pointer transition-colors ${D?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 bg-gray-50"}`,onDragOver:J,onDragLeave:$,onDrop:z,onClick:P,children:[e.jsx("input",{type:"file",ref:A,className:"hidden",accept:L.join(","),multiple:!0,onChange:H}),e.jsx(ne,{className:"text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Drag & Drop Files"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"or select Images, PDF, Excel files from device"})]}),d&&d.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Files (",d.length,")"]}),e.jsx("div",{className:"space-y-2",children:d.map((t,a)=>{try{const m=t instanceof File;let b="";try{m?b=URL.createObjectURL(t):typeof t=="string"&&(b=u(t))}catch(S){console.error("Error creating URL:",S),b=""}let f="",w="";if(m)f=t.name.split(".").pop()?.toLowerCase()||"",w=t.name;else if(typeof t=="string")f=t.split(".").pop()?.toLowerCase()||"",w=t.split("/").pop()||"Existing file";else{const S=t.image_path||t.path||"";f=S.split(".").pop()?.toLowerCase()||"",w=S.split("/").pop()||"Existing file"}const I=f&&["jpg","jpeg","png","gif","webp"].includes(f);return console.log("objectisImage",I),console.log("objectextension",f),console.log("url",b),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("a",{href:m?b:u(t),target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded overflow-hidden flex items-center justify-center",children:I?e.jsx("img",{src:b,alt:m?t.name:"Existing file",className:"w-full h-full object-cover"}):V(t)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:w}),m&&I&&e.jsx("p",{className:"text-xs text-gray-500",children:c(t.size)}),!m&&e.jsx("p",{className:"text-xs text-gray-500",children:"Existing file"})]})]}),e.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),q(a)},className:"ml-3 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:e.jsx(Q,{size:12})})]},a)}catch(m){return console.error("Error rendering file item:",m,t),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(X,{className:"text-red-500 text-2xl"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-red-900 truncate",children:"Error loading file"}),e.jsx("p",{className:"text-xs text-red-500",children:"Invalid file format"})]})]}),e.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),q(a)},className:"ml-3 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:e.jsx(Q,{size:12})})]},a)}})})]}),F&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:F})]})},Se=({id:j,title:g,loading:l,children:d,subtitle:N})=>l?e.jsx("div",{className:"flex justify-center items-center h-[500px]",children:e.jsx(me,{})}):e.jsx("div",{className:"w-full h-full p-2 sm:p-4 lg:p-6 overflow-y-auto pb-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(pe,{title:j?`Edit ${g}`:`Create ${g}`,subtitle:N||(j?`Update ${g} details`:`Create a new ${g}`)}),e.jsx("div",{className:"space-y-4 sm:space-y-6 mt-4",children:d})]})}),M=y.forwardRef(({label:j,error:g,required:l,children:d,className:N="",...v},F)=>e.jsxs("div",{className:"w-full",children:[j&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[j," ",l&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{ref:F,className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${g?"border-red-500":""} ${N}`,...v,children:d}),g&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:g})]}));M.displayName="Select";const W=y.forwardRef(({label:j,error:g,required:l,className:d="",...N},v)=>e.jsxs("div",{className:"w-full",children:[j&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[j," ",l&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{ref:v,rows:3,className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical ${g?"border-red-500":""} ${d}`,...N}),g&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:g})]}));W.displayName="TextArea";const _=y.forwardRef(({label:j,error:g,required:l,autofoucs:d,className:N="",...v},F)=>e.jsxs("div",{className:"w-full",children:[j&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[j," ",l&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{ref:F,autoFocus:d,className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${g?"border-red-500":""} ${N}`,...v}),g&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:g})]}));_.displayName="TextInput";const Fe={job_name:"",job_card_no:"",job_date:new Date().toISOString().split("T")[0],department:"Production Department",job_description:"",quantity:1,expected_delivery_date:"",job_type:"",status:"pending",customer_id:"",customer_name:"",customer_contact:"",customer_address:"",operations:[{operation_name:"",supervisor_id:"",start_date:"",end_date:"",machine_id:""}],challan_no:"",challan_date:"",invoice_no:"",po_no:"",remarks:"",note:"",images:[]},Me=()=>{const j=de(),[g]=ce(),l=g.get("editId"),{selectedBranchId:d}=Z(),[N,v]=y.useState(!1),[F,L]=y.useState(!1),[D,C]=y.useState([]),[A,J]=y.useState([]),[$,z]=y.useState([]),[H,U]=y.useState([]),{machines:q,fetchMachines:P}=ve(),{watch:V,control:c,setValue:i,handleSubmit:B,formState:{errors:u,isDirty:t}}=ye({defaultValues:Fe,mode:"onChange",resolver:je(_e)}),{fields:a,append:m,remove:b,replace:f}=Ne({control:c,name:"operations"}),w=V("customer_id"),{user:I}=Z(),S=I?.id,h=ee(I?.role?.role_name||"")&&!!l,se=async()=>{v(!0);try{const r=await k.get(R.job_order.details(Number(l))),s=r.data?.job_card||r.data;if(s){s.branch_id&&await K(Number(s.branch_id));const p=s.operations.map(o=>({operation_name:o.operation_name||"",supervisor_id:o.supervisor_id?String(o.supervisor_id):"",start_date:o.start_date?o.start_date.split("T")[0]:"",end_date:o.end_date?o.end_date.split("T")[0]:"",machine_id:o.machine_id?String(o.machine_id):""}))||[];f(p.length?p:[{operation_name:"",supervisor_id:"",start_date:"",end_date:"",machine_id:""}]);const n=s.images||[];i("job_name",s.job_name||""),i("job_card_no",s.job_card_number||""),i("job_date",s.job_date?s.job_date.split("T")[0]:""),i("department",s.department||"Production Department"),i("job_description",s.job_description||""),i("quantity",s.quantity||1),i("expected_delivery_date",s.expected_delivery_date?s.expected_delivery_date.split("T")[0]:""),i("job_type",s.job_type||""),i("status",s.status||"pending"),i("customer_id",s.customer_id?String(s.customer_id):""),i("customer_name",s.customer?.party_name||""),i("customer_contact",s.customer?.phone||""),i("customer_address",s.customer?.address||""),i("operations",p),i("challan_no",s.challan_number||""),i("challan_date",s.challan_date?s.challan_date.split("T")[0]:""),i("invoice_no",s.invoice_number||""),i("po_no",s.customer_po_number||""),i("remarks",s.remarks||""),i("note",s.note||""),C(n),J([])}}catch(r){console.log(r),O.error("Failed to load job order details")}finally{v(!1)}},re=async(r,s)=>{if(r instanceof File){const n=[...A];n.splice(s-D.length,1),J(n);return}if(!l){const n=[...D];n.splice(s,1),C(n);return}const p=r.id;if(!p){const n=[...D];n.splice(s,1),C(n);return}try{const n=R.job_order.imageDelete.replace("{jobCardId}",l).replace("{imageId}",String(p));await k.delete(n),O.success("Image deleted successfully");const o=[...D];o.splice(s,1),C(o)}catch(n){console.error("Failed to delete image",n),O.error(n.response?.data?.message||"Failed to delete image")}},K=async r=>{if(r)try{const p=(await k.get(R.user_management.all,{params:{branch_id:r}})).data.users.filter(n=>ee(n.role.role_name));U(p)}catch(s){console.log(s)}},te=async()=>{try{const r=await k.get(R.party_master.all,{params:{party_type:"Customer"}});z(r.data?.parties||r.data?.data||[])}catch(r){console.error("Failed to fetch customers",r)}};y.useEffect(()=>{te(),P(),d&&K(Number(d)),l&&se()},[l,d,P]),y.useEffect(()=>{if(w&&$.length>0){const r=$.find(s=>s.id===Number(w));r&&(i("customer_name",r.party_name),i("customer_contact",r.phone||""),i("customer_address",r.address||""))}},[w,$,i]);const ae=async r=>{if(l&&!t){j(G.JOB_ORDER.LIST);return}L(!0);try{const s=new FormData;s.append("job_name",r.job_name),s.append("job_date",r.job_date),s.append("department",r.department),s.append("job_description",r.job_description||""),s.append("job_type",r.job_type),s.append("status",r.status),s.append("quantity",String(r.quantity)),s.append("expected_delivery_date",r.expected_delivery_date),s.append("customer_id",String(r.customer_id)),s.append("created_by",String(S)),s.append("branch_id",String(d)),s.append("challan_no",r.challan_no||""),s.append("challan_date",r.challan_date||""),s.append("invoice_no",r.invoice_no||""),s.append("po_no",r.po_no||""),s.append("remarks",r.remarks||""),s.append("note",r.note||""),r.operations.filter(o=>o.operation_name||o.supervisor_id||o.machine_id).forEach((o,E)=>{s.append(`operations[${E}][operation_name]`,o.operation_name||""),s.append(`operations[${E}][supervisor_id]`,o.supervisor_id||""),s.append(`operations[${E}][start_date]`,o.start_date||""),s.append(`operations[${E}][end_date]`,o.end_date||""),s.append(`operations[${E}][machine_id]`,o.machine_id||"")}),A.forEach((o,E)=>{s.append(`images[${E}]`,o)});const p=D.map(o=>typeof o=="string"?o:o.image_path);s.append("existing_images",JSON.stringify(p));const n={headers:{"Content-Type":"multipart/form-data"}};l?(await k.post(R.job_order.update(Number(l)),s,n),O.success("Job Order updated successfully")):(await k.post(R.job_order.create,s,n),O.success("Job Order created successfully")),j(G.JOB_ORDER.LIST)}catch(s){O.error(s.response?.data?.message||"Failed to submit job order")}finally{L(!1)}};return e.jsx("form",{onSubmit:B(ae),children:e.jsxs(Se,{id:l,title:"Job Card",loading:N,children:[e.jsxs("div",{className:"grid gap-5 md:grid-cols-4",children:[e.jsx(x,{name:"job_name",control:c,render:({field:r})=>e.jsx(_,{required:!0,autofoucs:!0,...r,label:"Job Name",placeholder:"e.g. Engine Overhaul",readOnly:h,className:h?"bg-gray-100":"",error:u?.job_name?.message})}),l&&e.jsx(x,{name:"job_card_no",control:c,render:({field:r})=>e.jsx(_,{...r,label:"Job Card No.",placeholder:"JC-2023...",readOnly:!0,error:u?.job_card_no?.message})}),e.jsx(x,{name:"job_date",control:c,render:({field:r})=>e.jsx(_,{required:!0,...r,type:"date",label:"Job Date",error:u?.job_date?.message,readOnly:h,className:h?"bg-gray-100":""})}),e.jsx(x,{name:"department",control:c,render:({field:r})=>e.jsx(_,{required:!0,...r,label:"Department",error:u?.department?.message,readOnly:h,className:h?"bg-gray-100":""})})]}),e.jsx("div",{className:"mt-5",children:e.jsx(x,{name:"job_description",control:c,render:({field:r})=>e.jsx(W,{...r,label:"Job Description",placeholder:"Describe the job details...",error:u?.job_description?.message,readOnly:h,className:h?"bg-gray-100":""})})}),e.jsxs("div",{className:"mt-5 grid gap-5 md:grid-cols-3",children:[e.jsx(x,{name:"quantity",control:c,render:({field:r})=>e.jsx(_,{required:!0,...r,type:"number",label:"Quantity",placeholder:"Enter quantity",error:u?.quantity?.message,readOnly:h,className:h?"bg-gray-100":""})}),e.jsx(x,{name:"expected_delivery_date",control:c,render:({field:r})=>e.jsx(_,{required:!0,...r,type:"date",label:"Expected Delivery",readOnly:!!l,error:u?.expected_delivery_date?.message})}),e.jsx(x,{name:"job_type",control:c,render:({field:r})=>e.jsxs(M,{...r,required:!0,label:"Job Type",error:u?.job_type?.message,disabled:h,children:[e.jsx("option",{disabled:!0,value:"",children:"Select job type"}),e.jsx("option",{value:"amc",children:"AMC"}),e.jsx("option",{value:"new_job",children:"New Job"}),e.jsx("option",{value:"in_house_manufacturing",children:"In House"}),e.jsx("option",{value:"repair",children:"Repair"}),e.jsx("option",{value:"service",children:"Service"})]})})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4",children:"Customer Information"}),e.jsxs("div",{className:"grid gap-5 md:grid-cols-3",children:[e.jsx(x,{name:"customer_id",control:c,render:({field:r})=>e.jsxs(M,{...r,required:!0,label:"Customer Name",disabled:h,error:u?.customer_id?.message,children:[e.jsx("option",{disabled:!0,value:"",children:"Select Customer"}),$.filter(s=>s.party_type==="customer").map(s=>e.jsx("option",{value:s.id,children:s.party_name},s.id))]})}),e.jsx(x,{name:"customer_contact",control:c,render:({field:r})=>e.jsx(_,{...r,label:"Customer Contact",placeholder:"Auto-filled from customer",readOnly:!0,className:"bg-gray-100"})}),e.jsx(x,{name:"customer_address",control:c,render:({field:r})=>e.jsx(_,{...r,label:"Customer Address",placeholder:"Auto-filled from customer",readOnly:!0,className:"bg-gray-100"})})]})]}),e.jsxs("div",{className:"mt-5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Operations"}),e.jsx(Y,{type:"button",className:"bg-blue-600 text-white",onClick:()=>m({operation_name:"",supervisor_id:"",start_date:"",end_date:"",machine_id:""}),children:"+ Add Operation"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ue,{children:[e.jsx(xe,{cols:[{title:"Operation Name"},{title:"Supervisor"},{title:"Start Date"},{title:"End Date"},{title:"Machine"},{title:"Actions"}]}),e.jsx("tbody",{children:a.map((r,s)=>e.jsxs(ge,{children:[e.jsx(T,{className:"px-5",children:s+1}),e.jsx(T,{className:"min-w-[200px]",children:e.jsx(x,{name:`operations.${s}.operation_name`,control:c,render:({field:p})=>e.jsx(_,{...p,placeholder:"e.g. Cutting, Welding",error:u.operations?.[s]?.operation_name?.message})})}),e.jsx(T,{className:"min-w-[200px]",children:e.jsx(x,{name:`operations.${s}.supervisor_id`,control:c,render:({field:p})=>e.jsxs(M,{...p,error:u.operations?.[s]?.supervisor_id?.message,children:[e.jsx("option",{value:"",children:"Select Supervisor"}),H?.map(n=>e.jsx("option",{value:n.id,children:n.full_name},n.id))]})})}),e.jsx(T,{className:"min-w-[150px]",children:e.jsx(x,{name:`operations.${s}.start_date`,control:c,render:({field:p})=>e.jsx(_,{...p,type:"date",error:u.operations?.[s]?.start_date?.message})})}),e.jsx(T,{className:"min-w-[150px]",children:e.jsx(x,{name:`operations.${s}.end_date`,control:c,render:({field:p})=>e.jsx(_,{...p,type:"date",error:u.operations?.[s]?.end_date?.message})})}),e.jsx(T,{className:"min-w-[200px]",children:e.jsx(x,{name:`operations.${s}.machine_id`,control:c,render:({field:p})=>e.jsx(be,{value:p.value?Number(p.value):void 0,onChange:n=>p.onChange(String(n)),options:q.map(n=>({value:Number(n.id),label:n.name})),placeholder:"Select Machine",error:u.operations?.[s]?.machine_id?.message})})}),e.jsx(T,{children:e.jsx(fe,{children:a.length>1&&e.jsx(he,{onClick:()=>b(s)})})})]},r.id))})]})})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4",children:"Internal Tracking"}),e.jsxs("div",{className:"grid gap-5 md:grid-cols-4",children:[e.jsx(x,{name:"challan_no",control:c,render:({field:r})=>e.jsx(_,{...r,label:"Challan No.",placeholder:"Enter challan number",readOnly:h,className:h?"bg-gray-100":"",error:u?.challan_no?.message})}),e.jsx(x,{name:"challan_date",control:c,render:({field:r})=>e.jsx(_,{...r,type:"date",label:"Challan Date",readOnly:h,className:h?"bg-gray-100":"",error:u?.challan_date?.message})}),e.jsx(x,{name:"invoice_no",control:c,render:({field:r})=>e.jsx(_,{...r,label:"Invoice No.",placeholder:"Enter invoice number",readOnly:h,className:h?"bg-gray-100":"",error:u?.invoice_no?.message})})]})]}),e.jsxs("div",{className:"mt-5 grid gap-5 md:grid-cols-2",children:[e.jsx(x,{name:"remarks",control:c,render:({field:r})=>e.jsx(W,{...r,label:"Remarks",placeholder:"Add any additional notes or remarks...",error:u?.remarks?.message})}),e.jsx(x,{name:"note",control:c,render:({field:r})=>e.jsx(W,{...r,label:"Note",placeholder:"Add any additional notes or comments...",readOnly:h,className:h?"bg-gray-100":"",error:u?.note?.message})})]}),e.jsx("div",{className:"mt-5",children:e.jsx(we,{label:"Job Images and Documents",value:[...D,...A],maxFiles:10,error:u?.images?.message,onChange:r=>{const s=r.filter(n=>n instanceof File),p=r.filter(n=>!(n instanceof File));J(s),C(p)},onRemoveItem:re})}),e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx(Y,{type:"button",variant:"outline",className:"w-full sm:w-auto",onClick:()=>j(G.JOB_ORDER.LIST),children:"Cancel"}),e.jsx(Y,{type:"submit",loading:F,disabled:F,className:"bg-blue-600 text-white w-full sm:w-auto",children:l?"Update Job Card":"Save Job Card"})]})]})})};export{Me as default};
