import{r as n,a as f,j as e,h as g,e as _}from"./index-BSu8tAiZ.js";import{L as b}from"./ListWrapper-UGCs2EGJ.js";import{T,a as L,b as a}from"./TableWrapper-B1xaUZht.js";import{T as A}from"./TableRow-CXVjsK1A.js";import{u as N}from"./usePagination-DTR4IfGH.js";const v=()=>{const{page:o,rowsPerPage:d,setTotal:c,renderPagination:l}=N(),[m,p]=n.useState([]),{user:h,selectedBranchId:i}=f(),u=t=>{if(!t)return{ymd:"",dmy:""};const[s]=t.split("T"),[r,x,j]=s.split("-");return{ymd:s,dmy:`${j}-${x}-${r}`}},y=async()=>{try{const t=await g.get(_.stock_ledger.items,{params:{page:o+1,per_page:d,...i&&{branch_id:i}}}),s=t.data?.items??[],r=t.data?.pagination;p(s),r?.total!==void 0&&c(r.total)}catch(t){console.error("Failed to fetch stock ledger",t)}};return n.useEffect(()=>{y()},[i,h]),e.jsxs(b,{title:"Stock Ledger List",children:[e.jsxs(T,{children:[e.jsx(L,{cols:[{title:"Date"},{title:"Item Name"},{title:"Received Qty"},{title:"Issued Qty"},{title:"Deposited Qty"},{title:"Balance Qty"}]}),e.jsx("tbody",{children:m.map((t,s)=>e.jsxs(A,{children:[e.jsx(a,{children:s+1}),e.jsx(a,{children:u(t.created_at).dmy}),e.jsx(a,{children:t?.item_name||"N/A"}),e.jsx(a,{children:t?.received_quantity||"N/A"}),e.jsx(a,{children:t?.issued_quantity||"N/A"}),e.jsx(a,{children:t?.deposited_quantity||"N/A"}),e.jsx(a,{children:t?.balance_quantity||"0"})]},t.id))})]}),l()]})};export{v as default};
