import{u as S,r as i,j as t,P as d,A as p,e as T,h as _}from"./index-BEme_EUt.js";import{L as b}from"./ListWrapper-BEjqc6VH.js";import{T as y}from"./TableActions-D4JklVjJ.js";import{T as L,a as R,b as e}from"./TableWrapper-xBC1zAYs.js";import{T as C}from"./TableDelete-Bx4Sru7-.js";import{T as v}from"./TableEdit-DP4qb6e7.js";import{T as M}from"./TableRow-ZxJSRXVE.js";import{u as N}from"./usePagination-ncXkOQbX.js";import{L as w}from"./Loading-Dz3FfgiZ.js";const B=()=>{const n=S(),{page:r,rowsPerPage:o,setTotal:x,renderPagination:f}=N(),[h,j]=i.useState([]),[g,l]=i.useState(!1),c=async()=>{l(!0);try{const a=await _.get(T.state_master.states,{params:{page:r+1,rowsPerPage:o}}),{data:u,pagination:A,state_masters:E}=a,m=u||E||[],P=A?.total||a.total||m.length||0;j(m),x(P)}catch(s){console.log(s)}finally{l(!1)}};return i.useEffect(()=>{c()},[r,o]),t.jsxs(b,{title:"State Master",createOnClick:d.hasPermission("master_data_read")?()=>n(p.STATE_MASTER.CREATE):void 0,children:[g?t.jsx("div",{className:"flex justify-center py-10",children:t.jsx(w,{})}):t.jsxs(L,{children:[t.jsx(R,{cols:[{title:"State Name"},{title:"Country"},{title:"Actions"}]}),t.jsx("tbody",{children:h.map((s,a)=>t.jsxs(M,{children:[t.jsx(e,{className:"px-5",children:r*o+a+1}),t.jsx(e,{children:s.name}),t.jsx(e,{children:s.country?.name||"-"}),d.hasPermission("master_data_read")&&t.jsx(e,{children:t.jsxs(y,{children:[t.jsx(v,{onClick:()=>n(`${p.STATE_MASTER.CREATE}?id=${s?.id}`)}),t.jsx(C,{refetch:c,endpoint:T.state_master.delete(s?.id)})]})})]},a))})]}),f()]})};export{B as default};
