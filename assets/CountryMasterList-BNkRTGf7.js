import{u as C,r as i,j as s,P as d,A as m,e as p,h as y}from"./index-B2jzE3KR.js";import{L as _}from"./ListWrapper-BCPK_3oF.js";import{T as P}from"./TableActions-BfJ7Aaus.js";import{T as a}from"./TableData-kP0iDjWa.js";import{T as A}from"./TableDelete-BO_nTUXR.js";import{T as E}from"./TableEdit-CWDYHwgB.js";import{T as b,a as R}from"./TableWrapper-COpFbzLV.js";import{T as L}from"./TableRow-BTYyu-1e.js";import{u as N}from"./usePagination-LT8jskJh.js";import{L as v}from"./Loading-CTHClYOp.js";const $=()=>{const n=C(),{page:r,rowsPerPage:o,setTotal:u,renderPagination:T}=N(),[f,x]=i.useState([]),[j,l]=i.useState(!1),c=async()=>{l(!0);try{const t=await y.get(p.country_master.countries,{params:{page:r+1,per_page:o}}),{pagination:e}=t.data,g=t.data.countries,h=e?.last_page||0;x(g),u(h)}catch(t){console.log(t)}finally{l(!1)}};return i.useEffect(()=>{c()},[r,o]),s.jsxs(_,{title:"Country Master",createOnClick:d.hasPermission("master_data_read")?()=>n(m.COUNTRY_MASTER.CREATE):void 0,children:[j?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(v,{})}):s.jsxs(b,{children:[s.jsx(R,{cols:[{title:"Country Name"},{title:"Country Code"},{title:"Actions"}]}),s.jsx("tbody",{children:f.map((t,e)=>s.jsxs(L,{children:[s.jsx(a,{className:"px-5",children:r*o+e+1}),s.jsx(a,{children:t.name}),s.jsx(a,{children:t.code}),d.hasPermission("master_data_update_masters")&&s.jsx(a,{children:s.jsxs(P,{children:[s.jsx(E,{onClick:()=>n(`${m.COUNTRY_MASTER.CREATE}?id=${t?.id}`)}),s.jsx(A,{refetch:c,endpoint:p.country_master.delete(t?.id)})]})})]},e))})]}),T()]})};export{$ as default};
