import{u as _,a as P,r as o,j as s,P as m,A as p,e as u,h as b}from"./index-CVLuNvHl.js";import{L as A}from"./ListWrapper-8iziPijS.js";import{T as E}from"./TableActions-DkGWkAuh.js";import{T as U,a as y,b as e}from"./TableWrapper-4tTsxnyx.js";import{T as N}from"./TableDelete-a17zueM0.js";import{T as L}from"./TableEdit-Bcfq_lhg.js";import{T as R}from"./TableRow-JWYm0EGd.js";import{u as S}from"./usePagination-DNrppgzy.js";import{L as v}from"./Loading-DNOjMSnZ.js";const B=()=>{const l=_(),{page:i,rowsPerPage:r,setTotal:h,renderPagination:T}=S(),{selectedBranchId:n}=P(),[x,f]=o.useState([]),[j,c]=o.useState(!1),d=async()=>{c(!0);try{const t=await b.get(u.unit_master.units,{params:{page:i+1,rowsPerPage:r,...n&&{branch_id:n}}}),{units:a,pagination:g}=t.data;f(a),h(g.total)}catch(t){console.log(t)}finally{c(!1)}};return o.useEffect(()=>{d()},[i,r,n]),s.jsxs(A,{title:"Unit Master",createOnClick:m.hasPermission("master_data_create_units")?()=>l(p.UNIT_MASTER.CREATE):void 0,children:[j?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(v,{})}):s.jsxs(U,{children:[s.jsx(y,{cols:[{title:"Unit Name"},{title:"Short Name"},{title:"Actions"}]}),s.jsx("tbody",{children:x.map((t,a)=>s.jsxs(R,{children:[s.jsx(e,{className:"px-5",children:i*r+a+1}),s.jsx(e,{children:t.unit_name}),s.jsx(e,{children:t.unit_symbol}),m.hasPermission("master_data_update_masters")&&s.jsx(e,{children:s.jsxs(E,{children:[s.jsx(L,{onClick:()=>l(`${p.UNIT_MASTER.CREATE}?id=${t?.id}`)}),s.jsx(N,{refetch:d,endpoint:u.unit_master.delete(t?.id)})]})})]},a))})]}),T()]})};export{B as default};
