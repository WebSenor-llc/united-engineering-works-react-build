import{g as h,u as j,r,j as e,h as g,e as y,y as u}from"./index-tcS5gCoO.js";import{L as N}from"./Loading-BJ2f4d1H.js";import{B as f}from"./BackButton-DnVaUWoS.js";import{T as b,a as v}from"./TableWrapper-BOyIOkDJ.js";import{T as i}from"./TableData-jAiBRPDM.js";import{T as c}from"./TableRow-B1rFLFiW.js";const B=()=>{const{id:l}=h(),d=j(),[t,n]=r.useState(null),[o,m]=r.useState(!0);r.useEffect(()=>{(async()=>{if(l)try{const a=await g.get(y.deposit_slip.details(Number(l))),p=a.data?.slip||a.data?.data||a.data;n(p)}catch(a){console.error("Failed to fetch deposit slip details:",a),u.error("Failed to load deposit slip details"),d(-1)}finally{m(!1)}})()},[l,d]);const x=s=>s?new Date(s).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"-";return o?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(N,{})}):t?e.jsxs("div",{className:"w-full h-full overflow-auto space-y-6 p-4 pb-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(f,{}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Deposit Slip Details"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View deposit slip information and items"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Deposit Slip Information"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Slip Number"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.slip_number||`DS-${t.id}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:x(t.created_at)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"MR Number"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.material_requisition?.mr_number||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Deposited By"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.depositor?.full_name||t.deposited_by})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Received By"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.recieved_by})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Branch"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.branch?.branch_name||"-"})]}),e.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Reason for Depositing"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.reason||"-"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Items"})}),e.jsx("div",{className:"p-6",children:e.jsxs(b,{children:[e.jsx(v,{cols:[{title:"Sr No"},{title:"Item Name"},{title:"Item Code"},{title:"Item Description"},{title:"Unit"},{title:"Qty to Deposit"},{title:"Qty Deposited"}]}),e.jsx("tbody",{children:t.items&&t.items.length>0?t.items.map((s,a)=>e.jsxs(c,{children:[e.jsx(i,{className:"text-center font-medium",children:a+1}),e.jsx(i,{children:s.item?.item_name||"-"}),e.jsx(i,{className:"font-mono text-sm",children:s.item?.item_code||"-"}),e.jsx(i,{className:"text-sm",children:s.item?.item_description||"-"}),e.jsx(i,{className:"text-center",children:s.item?.unit?.unit_name||"-"}),e.jsx(i,{className:"text-center",children:s.quantity_to_deposit||"0"}),e.jsx(i,{className:"text-center",children:s.quantity_deposited||"0"})]},s.id)):e.jsx(c,{children:e.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-500",children:"No items found"})})})]})})]})]}):e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"text-gray-500",children:"Deposit slip not found"})})};export{B as default};
