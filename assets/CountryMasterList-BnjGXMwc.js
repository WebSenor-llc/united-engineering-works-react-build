import{u as C,r,j as t,P as m,A as p,e as u,h as y}from"./index-DQLLPGln.js";import{L as P}from"./ListWrapper-BG9lLSAN.js";import{T as A}from"./TableActions-BtqL2JIQ.js";import{T as E,a as _,b as e}from"./TableWrapper-dhiQGSew.js";import{T as b}from"./TableDelete-DNYHMsVC.js";import{T as R}from"./TableEdit-eeWH3hJk.js";import{T as L}from"./TableRow-BJ6MC2zs.js";import{u as N}from"./usePagination-BbkvL3z1.js";import{L as v}from"./Loading-B1xtHlfm.js";const Y=()=>{const o=C(),{page:i,rowsPerPage:n,setTotal:T,renderPagination:x}=N(),[f,h]=r.useState([]),[j,l]=r.useState(!1),c=async()=>{l(!0);try{const s=await y.get(u.country_master.countries,{params:{page:i+1,rowsPerPage:n}}),{pagination:a}=s.data,d=s.data,g=a?.total||s.data.total||d.length||0;h(d),T(g)}catch(s){console.log(s)}finally{l(!1)}};return r.useEffect(()=>{c()},[i,n]),t.jsxs(P,{title:"Country Master",createOnClick:m.hasPermission("master_data_read")?()=>o(p.COUNTRY_MASTER.CREATE):void 0,children:[j?t.jsx("div",{className:"flex justify-center py-10",children:t.jsx(v,{})}):t.jsxs(E,{children:[t.jsx(_,{cols:[{title:"Country Name"},{title:"Country Code"},{title:"Actions"}]}),t.jsx("tbody",{children:f.map((s,a)=>t.jsxs(L,{children:[t.jsx(e,{className:"px-5",children:a+1}),t.jsx(e,{children:s.name}),t.jsx(e,{children:s.code}),m.hasPermission("master_data_update_masters")&&t.jsx(e,{children:t.jsxs(A,{children:[t.jsx(R,{onClick:()=>o(`${p.COUNTRY_MASTER.CREATE}?id=${s?.id}`)}),t.jsx(b,{refetch:c,endpoint:u.country_master.delete(s?.id)})]})})]},a))})]}),x()]})};export{Y as default};
