import{r as w,j as e,a as K,h as U,e as B,y as f,u as le,f as ae,D as W,P as V,A as G}from"./index-DZUejYSu.js";import{L as re}from"./ListWrapper-B8opYR8T.js";import{T as C}from"./TableData-CgIR3Yxt.js";import{T as oe,a as ne}from"./TableWrapper-eUq9a7Bu.js";import{T as ie}from"./TableRow-BwaacXN6.js";import{T as ce}from"./TableActions-Df8LXwIU.js";import{T as de}from"./TableEdit-Cg5PE5iE.js";import{T as me}from"./TableDelete-DqVMD4Nf.js";import{T as he,a as xe}from"./TableDownload-ZLP_98Q2.js";import{Document as ge,Page as ue,StyleSheet as pe,View as s,Image as M,Text as l,pdf as ye}from"./react-pdf.browser-BnBJjxMY.js";import{L as fe}from"./Loading-BZ-_58ep.js";import{u as be}from"./usePagination-TzSKWAro.js";import{J as n}from"./enum-SoLNwffs.js";import{c as je,b as Q}from"./rolePermissions-BvMMyxfj.js";import{S as Ce}from"./StatusFilter-ZblLP-3y.js";import{C as _e}from"./CommonFilter-Dr2EGd9Q.js";import"./index.esm-8JYv16KU.js";import"./TextInput-CfYT9kxn.js";const F=o=>o?new Date(o).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",we=({jobOrder:o,documents:b=[]})=>{const v=o?.operations||[],p=w.useMemo(()=>b.filter(i=>i.type==="image").slice(0,6),[b]);console.log("objectimages",p),console.log("images",p);const S=b.filter(i=>i.type==="file"),[D,k]=w.useState([]);return w.useEffect(()=>{const i=async()=>{const x=await Promise.all(p.map(async _=>{const c=_.url.startsWith("http")?_.url:`undefined/${_.url}`;try{const u=await(await fetch(c)).blob(),T=await new Promise(g=>{const A=new FileReader;A.onloadend=()=>g(A.result),A.readAsDataURL(u)});return{name:_.name,src:T}}catch(y){return console.error("Failed to load image:",c,y),{name:_.name,src:""}}}));k(x)};p.length>0&&i()},[p]),e.jsx(ge,{children:e.jsxs(ue,{size:"A4",style:t.page,children:[e.jsxs(s,{style:t.headerContainer,children:[e.jsx(s,{style:t.logoSection,children:e.jsx(M,{src:"/assets/images/logo.png",style:t.logo})}),e.jsxs(s,{style:t.companyInfo,children:[e.jsx(l,{style:t.companyName,children:"UNITED ENGINEERING WORKS"}),e.jsx(l,{style:t.companyAddress,children:"N.H. 8, Nehla Village, By Pass Road, Near Govardhan Vilas, Udaipur- 313001 (Raj.) INDIA"}),e.jsx(l,{style:t.companyContact,children:"Phone: +91-9829232445 +91-9829657145 | GSTIN: 08ABQPK8948J3ZP"}),e.jsx(l,{style:t.companyContact,children:"Email: info@unitedengineeringworks.com"})]})]}),e.jsx(l,{style:t.title,children:"JOB CARD"}),e.jsxs(s,{style:t.jobDetailsContainer,children:[e.jsxs(s,{style:t.gridRow,children:[e.jsxs(s,{style:t.gridCol,children:[e.jsx(l,{style:t.label,children:"Job Name:"}),e.jsx(l,{style:t.value,children:o.job_name||"-"})]}),e.jsxs(s,{style:t.gridCol,children:[e.jsx(l,{style:t.label,children:"Quantity:"}),e.jsx(l,{style:t.value,children:o.quantity||"-"})]})]}),e.jsxs(s,{style:t.gridRow,children:[e.jsxs(s,{style:t.gridCol,children:[e.jsx(l,{style:t.label,children:"Job Card No:"}),e.jsx(l,{style:t.value,children:o.job_card_number||"-"})]}),e.jsxs(s,{style:t.gridCol,children:[e.jsx(l,{style:t.label,children:"Expected Delivery:"}),e.jsx(l,{style:t.value,children:F(o.expected_delivery_date)})]})]}),e.jsxs(s,{style:t.gridRow,children:[e.jsxs(s,{style:t.gridCol,children:[e.jsx(l,{style:t.label,children:"Processing Date:"}),e.jsx(l,{style:t.value,children:F(o.job_date)})]}),e.jsxs(s,{style:t.gridCol,children:[e.jsx(l,{style:t.label,children:"Customer Name:"}),e.jsx(l,{style:t.value,children:o.customer?.party_name||o.customer_name||"-"})]})]}),e.jsxs(s,{style:t.gridRow,children:[e.jsxs(s,{style:t.gridCol,children:[e.jsx(l,{style:t.label,children:"Created By:"}),e.jsx(l,{style:t.value,children:o.created_by?.full_name?`${o.created_by.full_name} (${o.created_by_role??""})`:"-"})]}),e.jsxs(s,{style:t.gridCol,children:[e.jsx(l,{style:t.label,children:"RGP/Invoice no:"}),e.jsx(l,{style:t.value,children:o.rgp_invoice_no||"-"})]})]}),e.jsxs(s,{style:[t.gridRow,{borderBottomWidth:0}],children:[e.jsxs(s,{style:t.gridCol,children:[e.jsx(l,{style:t.label,children:"Branch:"}),e.jsx(l,{style:t.value,children:o.branch?.branch_name||"-"})]}),e.jsx(s,{style:t.gridCol})]})]}),e.jsxs(s,{style:t.descriptionSection,children:[e.jsx(l,{style:t.sectionTitle,children:"Job Description:"}),e.jsx(s,{style:t.descriptionBox,children:e.jsx(l,{style:t.descriptionText,children:o.job_description||"-"})})]}),e.jsxs(s,{style:t.operationsSection,children:[e.jsx(l,{style:t.sectionTitle,children:"List of Operations"}),e.jsxs(s,{style:t.tableContainer,children:[e.jsxs(s,{style:t.tableHeaderRow,children:[e.jsx(s,{style:[t.tableCell,t.snoCol,t.headerCell],children:e.jsx(l,{style:t.headerText,children:"S.no"})}),e.jsx(s,{style:[t.tableCell,t.operationCol,t.headerCell],children:e.jsx(l,{style:t.headerText,children:"Operation Name"})}),e.jsx(s,{style:[t.tableCell,t.supervisorCol,t.headerCell],children:e.jsx(l,{style:t.headerText,children:"Supervisor"})}),e.jsx(s,{style:[t.tableCell,t.startDateCol,t.headerCell],children:e.jsx(l,{style:t.headerText,children:"Start Date"})}),e.jsx(s,{style:[t.tableCell,t.endDateCol,t.headerCell],children:e.jsx(l,{style:t.headerText,children:"End Date"})}),e.jsx(s,{style:[t.tableCell,t.machineCol,t.headerCell],children:e.jsx(l,{style:t.headerText,children:"Machine Name"})})]}),v.length>0?v.map((i,x)=>e.jsxs(s,{style:t.tableRow,children:[e.jsx(s,{style:[t.tableCell,t.snoCol],children:e.jsx(l,{style:t.cellText,children:x+1})}),e.jsx(s,{style:[t.tableCell,t.operationCol],children:e.jsx(l,{style:t.cellText,children:i.operation_name||"-"})}),e.jsx(s,{style:[t.tableCell,t.supervisorCol],children:e.jsx(l,{style:t.cellText,children:i.supervisor?.full_name||"-"})}),e.jsx(s,{style:[t.tableCell,t.startDateCol],children:e.jsx(l,{style:t.cellText,children:F(i.start_date)})}),e.jsx(s,{style:[t.tableCell,t.endDateCol],children:e.jsx(l,{style:t.cellText,children:F(i.end_date)})}),e.jsx(s,{style:[t.tableCell,t.machineCol],children:e.jsx(l,{style:t.cellText,children:i.machine?.name||"-"})})]},x)):Array.from({length:5}).map((i,x)=>e.jsxs(s,{style:t.tableRow,children:[e.jsx(s,{style:[t.tableCell,t.snoCol],children:e.jsx(l,{style:t.cellText})}),e.jsx(s,{style:[t.tableCell,t.operationCol],children:e.jsx(l,{style:t.cellText})}),e.jsx(s,{style:[t.tableCell,t.supervisorCol],children:e.jsx(l,{style:t.cellText})}),e.jsx(s,{style:[t.tableCell,t.startDateCol],children:e.jsx(l,{style:t.cellText})}),e.jsx(s,{style:[t.tableCell,t.endDateCol],children:e.jsx(l,{style:t.cellText})}),e.jsx(s,{style:[t.tableCell,t.machineCol],children:e.jsx(l,{style:t.cellText})})]},x))]})]}),e.jsxs(s,{style:t.remarksSection,children:[e.jsx(l,{style:t.sectionTitle,children:"Additional Remarks/Notes:"}),e.jsx(s,{style:t.remarksBox,children:e.jsx(l,{style:t.remarksText,children:o.remarks||o.note||""})})]}),e.jsxs(s,{style:t.documentsSection,children:[e.jsx(l,{style:t.sectionTitle,children:"Attached Documents"}),p.length>0&&e.jsxs(s,{style:t.imagesContainer,children:[e.jsx(l,{style:t.subSectionTitle,children:"Images:"}),e.jsx(s,{style:t.imagesGrid,children:p.map((i,x)=>e.jsxs(s,{style:t.imageWrapper,children:[e.jsx(s,{style:t.imageContainer,children:e.jsx(M,{src:i.url.startsWith("http")?i.url:`undefined/${i.url}`,style:t.documentImage})}),e.jsx(l,{style:t.imageCaption,children:i.name})]},x))})]}),S.length>0&&e.jsxs(s,{style:t.filesContainer,children:[e.jsx(l,{style:t.subSectionTitle,children:"Files:"}),S.map((i,x)=>e.jsxs(l,{style:t.fileText,children:["• ",i.name]},x))]}),p.length===0&&S.length===0&&e.jsx(s,{style:t.documentsBox,children:e.jsx(l,{style:t.documentsText,children:"No documents attached"})})]})]})})},t=pe.create({page:{padding:20,fontSize:10,fontFamily:"Helvetica",lineHeight:1.3},headerContainer:{flexDirection:"row",alignItems:"center",marginBottom:15,paddingBottom:10,borderBottomWidth:2,borderBottomColor:"#000",gap:10},logoSection:{width:70,marginRight:20},logo:{width:60,height:50},companyInfo:{flex:1,alignItems:"flex-start"},companyName:{fontSize:16,fontWeight:"bold",marginBottom:3},companyAddress:{fontSize:10,marginBottom:2},companyContact:{fontSize:10},title:{fontSize:18,textAlign:"center",marginBottom:15,fontWeight:"bold",textDecoration:"underline"},jobDetailsContainer:{marginBottom:15,borderWidth:1,borderColor:"#000"},gridRow:{flexDirection:"row",borderBottomWidth:.5,borderBottomColor:"#eee",minHeight:25,alignItems:"center"},gridCol:{flexDirection:"row",width:"50%",paddingHorizontal:8,alignItems:"center"},label:{width:"45%",fontSize:9,fontWeight:"bold"},value:{width:"55%",fontSize:9},descriptionSection:{marginBottom:15},sectionTitle:{fontSize:10,fontWeight:"bold",marginBottom:5},descriptionBox:{borderWidth:1,borderColor:"#000",minHeight:60,padding:8},descriptionText:{fontSize:9},operationsSection:{marginBottom:15},tableContainer:{borderWidth:1,borderColor:"#000"},tableHeaderRow:{flexDirection:"row",backgroundColor:"#f0f0f0"},tableRow:{flexDirection:"row",minHeight:25},tableCell:{padding:4,borderWidth:.5,borderColor:"#000",justifyContent:"center",alignItems:"center"},headerCell:{backgroundColor:"#f0f0f0"},headerText:{fontSize:9,fontWeight:"bold",textAlign:"center"},cellText:{fontSize:8,textAlign:"center"},snoCol:{width:"8%"},operationCol:{width:"25%"},supervisorCol:{width:"20%"},startDateCol:{width:"15%"},endDateCol:{width:"15%"},machineCol:{width:"17%"},remarksSection:{marginBottom:15},remarksBox:{borderWidth:1,borderColor:"#000",minHeight:50,padding:8},remarksText:{fontSize:9},documentsSection:{marginBottom:15},documentsBox:{borderWidth:1,borderColor:"#000",minHeight:50,padding:8},documentsText:{fontSize:9},subSectionTitle:{fontSize:9,fontWeight:"bold",marginBottom:5,marginTop:5},imagesContainer:{marginBottom:10},imagesGrid:{flexDirection:"row",flexWrap:"wrap",marginTop:5},imageWrapper:{marginRight:10,marginBottom:10,alignItems:"center"},imageContainer:{borderWidth:1,borderColor:"#ccc",backgroundColor:"#f9f9f9"},documentImage:{width:80,height:80},imagePlaceholder:{width:80,height:80,backgroundColor:"#f0f0f0",borderWidth:1,borderColor:"#ccc",justifyContent:"center",alignItems:"center",padding:4},placeholderText:{fontSize:8,color:"#666",textAlign:"center",marginBottom:2},placeholderUrlText:{fontSize:6,color:"#999",textAlign:"center",maxWidth:70},imageCaption:{fontSize:7,textAlign:"center",marginTop:2,maxWidth:80},filesContainer:{marginTop:5},fileText:{fontSize:9,marginBottom:2,paddingLeft:5}}),Se=({jobOrder:o,onStatusUpdate:b})=>{const[v,p]=w.useState(!1),{user:S}=K(),D=async c=>{p(!0);try{await U.post(B.job_order.statusActions,{job_card_id:o.job_card_id,status:c}),f.success("Status updated successfully"),b()}catch(y){console.error("Failed to update status:",y),f.error(y.response?.data?.message||"Failed to update status")}finally{p(!1)}},i=(()=>{const c=S?.role?.role_name,y=o.status,u=je(c||""),T=Q(c||"")||c==="Super Admin"||u;let g=[];switch(y){case n.PENDING_APPROVAL:u&&(g=[n.APPROVED,n.CANCELLED]);break;case n.APPROVED:T&&(g=[n.IN_PROGRESS]),u&&g.push(n.CANCELLED);break;case n.IN_PROGRESS:T&&(g=[n.COMPLETED,n.CLOSED]),u&&g.push(n.CANCELLED);break;case n.COMPLETED:T&&(g=[n.CLOSED]);break;case n.CANCELLED:u&&(g=[n.PENDING_APPROVAL]);break;case n.CLOSED:break;case n.OVERDUE:T&&(g=[n.IN_PROGRESS,n.COMPLETED]),u&&g.push(n.CANCELLED);break}return g})(),x=c=>c.replace(/_/g," ").replace(/\b\w/g,y=>y.toUpperCase()),_=c=>{switch(c){case n.PENDING_APPROVAL:return"text-yellow-600 bg-yellow-50";case n.APPROVED:return"text-green-600 bg-green-50";case n.IN_PROGRESS:return"text-blue-600 bg-blue-50";case n.COMPLETED:return"text-purple-600 bg-purple-50";case n.CLOSED:return"text-gray-600 bg-gray-50";case n.CANCELLED:return"text-red-600 bg-red-50";case n.OVERDUE:return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}};return e.jsx("div",{className:"flex items-center gap-2",children:v?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Updating..."})]}):e.jsxs("select",{className:`text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 bg-white min-w-[120px] ${_(o.status)}`,value:o.status,onChange:c=>{c.target.value!==o.status&&D(c.target.value)},disabled:i.length===0,children:[e.jsx("option",{value:o.status,children:x(o.status)}),i.map(c=>e.jsx("option",{value:c,children:x(c)},c))]})})},Ge=()=>{const{page:o,rowsPerPage:b,setTotal:v,renderPagination:p}=be(),S=le(),{selectedBranchId:D,user:k}=K(),{setJobOrders:i}=ae(),[x,_]=w.useState([]),[c,y]=w.useState(!1),[u,T]=w.useState(""),[g,A]=w.useState({}),q=[{name:"jc_number",label:"Job Card Number",placeholder:"Enter Job Card Number"},{name:"date_from",label:"Date From",type:"date"},{name:"date_to",label:"Date To",type:"date"}],I=async a=>{y(!0);try{const d={page:o+1,per_page:b,...D&&{branch_id:D}};a&&(a.jc_number&&(d.jc_number=a.jc_number),a.date_from&&a.date_to?a.date_from===a.date_to?d.date=a.date_from:(d.date_from=a.date_from,d.date_to=a.date_to):(a.date_from&&(d.date_from=a.date_from),a.date_to&&(d.date_to=a.date_to)));const h=await U.get(B.job_order.list,{params:d}),m=h.data?.job_cards||[],N=h.data?.pagination;_(m),N?.last_page!==void 0&&v(N.last_page);const R=k?.role?.role_name;if(Q(R||"")||R==="Super Admin"){const P=m.filter(E=>E.status==="pending").length;i(P)}}catch(d){console.error("Failed to fetch job orders:",d),f.error("Failed to fetch job orders")}finally{y(!1)}},Z=async a=>{try{const d=f.loading("Preparing job card for download..."),m=(await U.get(B.job_order.details(a.id))).data.job_card,N=r=>{if(!r||typeof r!="string")return"file";const j=r.split(".").pop()?.toLowerCase();return j&&["jpg","jpeg","png","gif","bmp","webp"].includes(j)?"image":"file"},R=[m.documents,m.attachments,m.files,m.uploaded_files].filter(Boolean),P=(m.image_path||[]).map(r=>({url:r,name:r.split("/").pop()||"File",type:"auto"})),O=[...R.flat(),...P].filter(r=>typeof r=="string"?!0:r&&(r.url||r.file_path||r.path)).map(r=>{let j,z;return typeof r=="string"?(j=r,z=r.split("/").pop()||"File"):(j=r.url||r.file_path||r.path,z=r.name||r.file_name||r.original_name||r.filename||(typeof j=="string"?j.split("/").pop():"File")),console.log("url url ---->",j),{name:z,type:N(j),url:j}}).filter(r=>r!==null),ee=O.filter(r=>r.type==="image").slice(0,6),te=O.filter(r=>r.type==="file").slice(0,5),H=ee.map(r=>({...r,corsBlocked:!0,displayUrl:r.url}));console.log("Processed images with CORS handling:",H);const se=await ye(e.jsx(we,{jobOrder:m,documents:[...H,...te]})).toBlob(),$=URL.createObjectURL(se),L=document.createElement("a");L.href=$,L.setAttribute("download",`job-card-${a.job_card_number||a.id}.pdf`),document.body.appendChild(L),L.click(),L.remove(),URL.revokeObjectURL($),f.dismiss(d),f.success("Job card downloaded successfully")}catch(d){console.error("Failed to download job card:",d),f.error("Failed to download job card")}},X=async a=>{try{const d=f.loading("Preparing Excel for download..."),h=a||g,m={format:"excel",...D&&{branch_id:D}};h.jc_number&&(m.jc_number=h.jc_number),h.date_from&&h.date_to?h.date_from===h.date_to?m.date=h.date_from:(m.date_from=h.date_from,m.date_to=h.date_to):(h.date_from&&(m.date_from=h.date_from),h.date_to&&(m.date_to=h.date_to)),console.log("Download Excel params:",m);const N=await U.get(B.job_order.excel_download,{params:m,responseType:"blob"}),R=N instanceof Blob?N:new Blob([N]),P=window.URL.createObjectURL(R),E=document.createElement("a");E.href=P,E.setAttribute("download",`job-orders-export-${W.date(new Date().toISOString())}.xlsx`),document.body.appendChild(E),E.click(),E.remove(),window.URL.revokeObjectURL(P),f.dismiss(d),f.success("Excel downloaded successfully")}catch(d){console.error("Failed to download excel:",d),f.error("Failed to download excel")}};w.useEffect(()=>{I(g)},[o,b,D]);const Y=async a=>{A(a),await I(a)},J=u?x.filter(a=>a.status===u):x;return c?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(fe,{})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(_e,{fields:q,onFilter:Y,defaultValues:g,downloadButton:{label:"Download Excel",onClick:a=>{X(a)}}}),e.jsx(Ce,{module:"JobOrderStatus",selectedStatus:u,onChange:T}),e.jsxs(re,{title:`Job Orders (${J.length})`,createOnClick:V.hasPermission("job_card_management_create")?()=>S(G.JOB_ORDER.CREATE):void 0,children:[e.jsxs(oe,{children:[e.jsx(ne,{cols:[{title:"Job Card No"},{title:"Job Name"},{title:"Customer"},{title:"Job Date"},{title:"Expected Delivery"},{title:"Job Type"},{title:"Created At"},{title:"Status"},{title:"Actions"}]}),e.jsx("tbody",{children:c?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading job orders..."})]})})}):J.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No job orders"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u?`No job orders found with status "${u}"`:"Get started by creating a new job order."})]})})}):J.map((a,d)=>e.jsxs(ie,{children:[e.jsx(C,{className:"px-5",children:o*b+d+1}),e.jsx(C,{className:"w-40",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.job_card_number||"-"})})}),e.jsx(C,{className:"w-48",children:e.jsx("div",{className:"text-sm text-gray-900",children:a.job_name||"-"})}),e.jsx(C,{className:"w-48",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.customer?.party_name||a.customer_name||"—"})})})}),e.jsx(C,{className:"w-32",children:e.jsx("div",{className:"text-sm text-gray-900",children:W.date(a.job_date)})}),e.jsx(C,{className:"w-32",children:e.jsx("div",{className:"text-sm text-gray-900",children:W.date(a.expected_delivery_date)})}),e.jsx(C,{className:"w-32",children:e.jsx("span",{className:"capitalize text-sm text-gray-900",children:a.job_type?.replace(/_/g," ")||"-"})}),e.jsx(C,{className:"w-32",children:e.jsx("div",{className:"text-sm text-gray-500",children:W.date(a.created_at)})}),e.jsx(C,{className:"w-40",children:e.jsx(Se,{jobOrder:{job_card_id:a.id,status:a.status},onStatusUpdate:I})}),e.jsx(C,{className:"w-20",children:e.jsxs(ce,{children:[e.jsx(he,{url:`${G.JOB_ORDER.DETAILS.replace(":id",a.id)}`,tooltip:"View Job Order Details"}),V.hasPermission("job_card_management_update")&&e.jsx(de,{onClick:()=>S(`${G.JOB_ORDER.CREATE}?editId=${a.id}`)}),e.jsx(xe,{onClick:()=>Z(a)}),V.hasPermission("job_card_management_delete")&&e.jsx(me,{refetch:I,endpoint:B.job_order.delete(a.id)})]})})]},a.id))})]}),J.length>0&&p()]})]})};export{Ge as default};
