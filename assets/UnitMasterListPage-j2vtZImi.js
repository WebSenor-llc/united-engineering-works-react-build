import{u as _,a as P,r as o,j as s,P as d,A as p,e as u,h as A}from"./index-CW8Rk0MY.js";import{L as b}from"./ListWrapper-CotDcpGz.js";import{T as E}from"./TableActions-BzLb90yG.js";import{T as a}from"./TableData-CtLrfyEs.js";import{T as U}from"./TableDelete-CcR9XJBA.js";import{T as y}from"./TableEdit-bX6ZliD8.js";import{T as N,a as L}from"./TableWrapper-DMoDgotN.js";import{T as R}from"./TableRow-DaThW2-k.js";import{u as S}from"./usePagination-BKtm9DsC.js";import{L as v}from"./Loading-B2tKD1y0.js";const O=()=>{const l=_(),{page:r,rowsPerPage:i,setTotal:T,renderPagination:h}=S(),{selectedBranchId:n}=P(),[f,x]=o.useState([]),[g,c]=o.useState(!1),m=async()=>{c(!0);try{const t=await A.get(u.unit_master.units,{params:{page:r+1,per_page:i,...n&&{branch_id:n}}}),{units:e,pagination:j}=t.data;x(e),T(j.last_page)}catch(t){console.log(t)}finally{c(!1)}};return o.useEffect(()=>{m()},[r,i,n]),s.jsxs(b,{title:"Unit Master",createOnClick:d.hasPermission("master_data_create_units")?()=>l(p.UNIT_MASTER.CREATE):void 0,children:[g?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(v,{})}):s.jsxs(N,{children:[s.jsx(L,{cols:[{title:"Unit Name"},{title:"Short Name"},{title:"Actions"}]}),s.jsx("tbody",{children:f.map((t,e)=>s.jsxs(R,{children:[s.jsx(a,{className:"px-5",children:r*i+e+1}),s.jsx(a,{children:t.unit_name}),s.jsx(a,{children:t.unit_symbol}),d.hasPermission("master_data_update_masters")&&s.jsx(a,{children:s.jsxs(E,{children:[s.jsx(y,{onClick:()=>l(`${p.UNIT_MASTER.CREATE}?id=${t?.id}`)}),s.jsx(U,{refetch:m,endpoint:u.unit_master.delete(t?.id)})]})})]},e))})]}),h()]})};export{O as default};
