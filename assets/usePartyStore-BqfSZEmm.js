import{c as y,e as s,h as f}from"./index-K9d2s2ak.js";const h=y((r,i)=>({parties:[],loading:!1,error:null,lastParams:null,fetchParties:async t=>{const{loading:n,lastParams:o}=i();if(n)return;const e=JSON.stringify(t||{});if(o!==e){r({loading:!0,error:null,lastParams:e});try{const a=new URLSearchParams;t?.search&&a.append("search",t.search),t?.party_type&&a.append("party_type",t.party_type);const l=a.toString()?`${s.party_master.all}?${a.toString()}`:s.party_master.all,c=((await f.get(l)).data?.parties||[]).filter(p=>p.is_active);r({parties:c,loading:!1})}catch(a){r({error:a.message||"Failed to fetch parties",loading:!1})}}}}));export{h as u};
