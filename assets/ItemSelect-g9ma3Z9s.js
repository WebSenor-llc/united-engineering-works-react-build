import{r as a,j as i,h as x,e as j}from"./index-B2jzE3KR.js";import{C}from"./index.esm-BJtmoOhw.js";import{S as _}from"./SearchableSelect-_qGNMXDR.js";const b=({control:l,name:m,error:h,disabled:f=!1,onChange:p})=>{const[r,d]=a.useState([]),[u,n]=a.useState(!1),[s,S]=a.useState("");a.useEffect(()=>{if(s&&s.length<1)return;(async()=>{n(!0);try{const o=((await x.get(j.item_master.all,{params:{search:s}})).data?.items||[]).filter(g=>g.is_active);d(o)}catch(t){console.error("Failed to fetch items",t)}finally{n(!1)}})()},[s]);const I=r.map(e=>({value:e.id,label:`${e.item_name} (${e.item_code})`}));return i.jsx(C,{name:m,control:l,render:({field:e})=>i.jsx(_,{options:I,value:e.value,disabled:f,loading:u,error:h,placeholder:"Select Item",onChange:t=>{const c=r.find(o=>o.id===t);e.onChange(t),p?.(t,c)},onSearch:S,minSearchLength:1})})};export{b as I};
