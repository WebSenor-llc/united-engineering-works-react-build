import{u as _,a as P,r,j as s,P as m,A as p,e as u,h as b}from"./index-DQLLPGln.js";import{L as A}from"./ListWrapper-BG9lLSAN.js";import{T as E}from"./TableActions-BtqL2JIQ.js";import{T as U,a as y,b as e}from"./TableWrapper-dhiQGSew.js";import{T as N}from"./TableDelete-DNYHMsVC.js";import{T as L}from"./TableEdit-eeWH3hJk.js";import{T as R}from"./TableRow-BJ6MC2zs.js";import{u as S}from"./usePagination-BbkvL3z1.js";import{L as v}from"./Loading-B1xtHlfm.js";const B=()=>{const n=_(),{page:o,rowsPerPage:l,setTotal:h,renderPagination:T}=S(),{selectedBranchId:i}=P(),[x,f]=r.useState([]),[j,c]=r.useState(!1),d=async()=>{c(!0);try{const t=await b.get(u.unit_master.units,{params:{page:o+1,rowsPerPage:l,...i&&{branch_id:i}}}),{units:a,pagination:g}=t.data;f(a),h(g.total)}catch(t){console.log(t)}finally{c(!1)}};return r.useEffect(()=>{d()},[o,l,i]),s.jsxs(A,{title:"Unit Master",createOnClick:m.hasPermission("master_data_create_units")?()=>n(p.UNIT_MASTER.CREATE):void 0,children:[j?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(v,{})}):s.jsxs(U,{children:[s.jsx(y,{cols:[{title:"Unit Name"},{title:"Short Name"},{title:"Actions"}]}),s.jsx("tbody",{children:x.map((t,a)=>s.jsxs(R,{children:[s.jsx(e,{className:"px-5",children:a+1}),s.jsx(e,{children:t.unit_name}),s.jsx(e,{children:t.unit_symbol}),m.hasPermission("master_data_update_masters")&&s.jsx(e,{children:s.jsxs(E,{children:[s.jsx(L,{onClick:()=>n(`${p.UNIT_MASTER.CREATE}?id=${t?.id}`)}),s.jsx(N,{refetch:d,endpoint:u.unit_master.delete(t?.id)})]})})]},a))})]}),T()]})};export{B as default};
