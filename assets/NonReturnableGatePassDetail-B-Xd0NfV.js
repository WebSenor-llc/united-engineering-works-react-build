import{g,u as j,r as l,y as o,A as m,j as e,D as u,h as N,e as b}from"./index-BS_GYby9.js";import{L as y}from"./Loading-BpKwKdhz.js";import{N as f}from"./NoDataFound-Cx-Zd7bk.js";import{B as _}from"./BackButton-AY0PQae3.js";import{T,a as v}from"./TableWrapper-rm6emJmV.js";import{T as P}from"./TableRow-B1eYqaZX.js";import{T as i}from"./TableData-Swdp7qsk.js";const r=a=>a&&(typeof a=="string"||typeof a=="number")?a:"--",G=()=>{const{id:a}=g(),d=j(),[s,x]=l.useState(null),[h,c]=l.useState(!0),p=async()=>{c(!0);try{const t=await N.get(b.non_returnable_gate_pass.details(parseInt(a,10))),n=t.data?.gate_pass||t.data?.data||t.data;x(n)}catch(t){console.error("Error fetching gate pass details:",t),o.error("Failed to load gate pass details"),d(m.NON_RETURNABLE_GATEPAS.LIST)}finally{c(!1)}};return l.useEffect(()=>{if(!a){o.error("Invalid gate pass ID"),d(m.NON_RETURNABLE_GATEPAS.LIST);return}p()},[a,d]),h?e.jsx(y,{}):s?e.jsxs("div",{className:"max-w-6xl mx-auto min-h-screen p-4 bg-gray-50 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{}),e.jsx("h2",{className:"text-xl font-semibold",children:"Non-Returnable Gate Pass Details"})]}),e.jsx("div",{className:"bg-white border p-6 rounded-xl space-y-4",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Gate Pass Number:"})," ",r(s.gate_pass_number)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",u.dateWithTime(s.created_at)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purpose:"})," ",r(s.purpose)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Vehicle Number:"})," ",r(s.vehicle_number)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Driver Name:"})," ",r(s.driver_name)]})]})}),e.jsxs("div",{className:"bg-white border p-6 rounded-xl space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Party Details"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Party Name:"})," ",r(s.party_name)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Party Address:"})," ",r(s.party_address)]})]})]}),e.jsxs("div",{className:"bg-white border p-6 rounded-xl space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Branch & Employee Details"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Branch Name:"})," ",r(s.branch?.branch_name)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Branch Address:"})," ",r(s.branch?.address)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Employee Name:"})," ",r(s.emp_name)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Employee Address:"})," ",r(s.emp_address)]})]})]}),e.jsxs("div",{className:"bg-white border p-6 rounded-xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Items"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(T,{children:[e.jsx(v,{cols:[{title:"Item Name"},{title:"Item Code"},{title:"Item Description"},{title:"Unit"},{title:"Quantity Out"},{title:"Description/Remarks"}]}),e.jsx("tbody",{children:s.items&&s.items.length>0?s.items.map((t,n)=>e.jsxs(P,{children:[e.jsx(i,{className:"text-center",children:n+1}),e.jsx(i,{children:r(t.item?.item_name)}),e.jsx(i,{children:r(t.item?.item_code)}),e.jsx(i,{className:"text-sm",children:r(t.item?.item_description)}),e.jsx(i,{children:r(t.item?.unit?.unit_name)}),e.jsx(i,{className:"text-center",children:t.quantity_out||0}),e.jsx(i,{children:r(t.item_description)})]},t.id||n)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-4",children:"No items found"})})})]})})]}),s.items?.length>0&&e.jsxs("div",{className:"bg-white border p-6 rounded-xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Summary"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Total Items:"})," ",s.items.length]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Quantity Out:"})," ",s.items.reduce((t,n)=>t+(Number(n.quantity_out)||0),0)]})]})]})]}):e.jsx(f,{})};export{G as default};
