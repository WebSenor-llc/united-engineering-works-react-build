import{u as A,r as o,j as s,P as m,A as d,e as p,h as E}from"./index-jDfkN2r4.js";import{L as _}from"./ListWrapper-CdcYWlKR.js";import{T as b}from"./TableActions-CJhLK9s8.js";import{T as L,a as R,b as a}from"./TableWrapper-BjLYclM7.js";import{T as S}from"./TableDelete-BoG9eQR7.js";import{T as v}from"./TableEdit-CoG230zd.js";import{T as M}from"./TableRow-saOpsf4I.js";import{u as N}from"./usePagination-DCcA-7np.js";import{L as w}from"./Loading-QSf8-D6b.js";const q=()=>{const n=A(),{page:i,rowsPerPage:r,setTotal:T,renderPagination:x}=N(),[f,j]=o.useState([]),[h,l]=o.useState(!1),c=async()=>{l(!0);try{const e=await E.get(p.city_master.cities,{params:{page:i+1,rowsPerPage:r}}),{data:g,pagination:u,city_masters:y}=e,C=g||y||[],P=u?.total;j(C),T(P)}catch(t){console.log(t)}finally{l(!1)}};return o.useEffect(()=>{c()},[i,r]),s.jsxs(_,{title:"City Master",createOnClick:m.hasPermission("master_data_read")?()=>n(d.CITY_MASTER.CREATE):void 0,children:[h?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(w,{})}):s.jsxs(L,{children:[s.jsx(R,{cols:[{title:"City Name"},{title:"State"},{title:"Actions"}]}),s.jsx("tbody",{children:f.map((t,e)=>s.jsxs(M,{children:[s.jsx(a,{className:"px-5",children:i*r+e+1}),s.jsx(a,{children:t.name}),s.jsx(a,{children:t.state?.name||"-"}),m.hasPermission("master_data_read")&&s.jsx(a,{children:s.jsxs(b,{children:[s.jsx(v,{onClick:()=>n(`${d.CITY_MASTER.CREATE}?id=${t?.id}`)}),s.jsx(S,{refetch:c,endpoint:p.city_master.delete(t?.id)})]})})]},e))})]}),x()]})};export{q as default};
