import{u as C,r as e,j as t,P as m,A as p,e as u,h as y}from"./index-zSIHDd_i.js";import{L as P}from"./ListWrapper-DoFaRH6P.js";import{T as _,a as A}from"./TableDelete-BEyOmHVS.js";import{T as E,a as b,b as r}from"./TableWrapper-Bwk1LSIu.js";import{T as R}from"./TableEdit-D3e67rz4.js";import{T as L}from"./TableRow-F8MSZPbu.js";import{u as N}from"./usePagination-mcOS4Aak.js";import{L as v}from"./Loading-BqWFEu0c.js";const W=()=>{const o=C(),{page:i,rowsPerPage:n,setTotal:T,renderPagination:f}=N(),[x,g]=e.useState([]),[h,l]=e.useState(!1),c=async()=>{l(!0);try{const s=await y.get(u.country_master.countries,{params:{page:i+1,per_page:n}}),{pagination:a}=s.data,d=s.data,j=a?.total||s.data.total||d.length||0;g(d),T(j)}catch(s){console.log(s)}finally{l(!1)}};return e.useEffect(()=>{c()},[i,n]),t.jsxs(P,{title:"Country Master",createOnClick:m.hasPermission("master_data_read")?()=>o(p.COUNTRY_MASTER.CREATE):void 0,children:[h?t.jsx("div",{className:"flex justify-center py-10",children:t.jsx(v,{})}):t.jsxs(E,{children:[t.jsx(b,{cols:[{title:"Country Name"},{title:"Country Code"},{title:"Actions"}]}),t.jsx("tbody",{children:x.map((s,a)=>t.jsxs(L,{children:[t.jsx(r,{children:a+1}),t.jsx(r,{children:s.name}),t.jsx(r,{children:s.code}),m.hasPermission("master_data_update_masters")&&t.jsxs(_,{children:[t.jsx(R,{onClick:()=>o(`${p.COUNTRY_MASTER.CREATE}?id=${s?.id}`)}),t.jsx(A,{refetch:c,endpoint:u.country_master.delete(s?.id)})]})]},a))})]}),f()]})};export{W as default};
