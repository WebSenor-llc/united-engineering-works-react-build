import{u as b,r as n,j as e,P as t,A as l,e as d,h as p}from"./index-DHxjsmS_.js";import{L as j}from"./ListWrapper-Cc4XzfgT.js";import{T as u,a as g}from"./TableDelete-CBS2zXrt.js";import{T as N,a as T,b as a}from"./TableWrapper-Cc34JFCi.js";import{T as _}from"./TableEdit-DAgKBokJ.js";import{T as w}from"./TableRow-CUJFv1cP.js";import{L as A}from"./Loading-CxrkmpiL.js";import{u as E}from"./usePagination-CsbUaw-r.js";const v=()=>{const r=b(),[h,m]=n.useState([]),[x,i]=n.useState(!1),{renderPagination:f}=E(),c=async()=>{i(!0);try{const s=await p.get(d.branches.branch);console.log(s.data.branches),m(s.data.branches)}catch(s){console.log(s)}finally{i(!1)}};return n.useEffect(()=>{c()},[]),e.jsxs(j,{title:"Branches",createOnClick:t.hasPermission("branch_management_create")?()=>r(l.BRANCHES.CREATE):void 0,children:[x?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(A,{})}):e.jsxs(N,{children:[e.jsx(T,{cols:[{title:"Branch Name"},{title:"Branch Code"},{title:"Branch Number"},{title:"Email"},{title:"Is Head Office"},{title:"Address"},{title:"Actions"}]}),e.jsx("tbody",{children:h.map((s,o)=>e.jsxs(w,{children:[e.jsx(a,{className:"w-12 text-center font-medium",children:o+1}),e.jsx(a,{className:"w-48",children:s.branch_name}),e.jsx(a,{className:"w-32",children:s.branch_code}),e.jsx(a,{className:"w-36",children:s.phone}),e.jsx(a,{className:"w-64",children:s.email}),e.jsx(a,{className:"w-32",children:e.jsx("span",{className:`status-badge inline-flex items-center justify-center px-2 py-1 text-xs font-medium rounded-full ${s.is_head_office?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,style:{borderRadius:"9999px",filter:"none",boxShadow:"none",border:"none",outline:"none",textShadow:"none"},children:s.is_head_office?"Yes":"No"})}),e.jsx(a,{className:"w-80",children:s.address}),e.jsx(a,{className:"w-20",children:e.jsxs(u,{children:[t.hasPermission("branch_management_update")&&e.jsx(_,{onClick:()=>r(`${l.BRANCHES.CREATE}?id=${s.id}`)}),t.hasPermission("branch_management_delete")&&e.jsx(g,{refetch:c,endpoint:d.branches.delete(s?.id)})]})})]},o))})]}),f()]})};export{v as default};
