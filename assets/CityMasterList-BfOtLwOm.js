import{u as P,r as a,j as t,P as d,A as p,e as T,h as A}from"./index-BAaTephW.js";import{L as E}from"./ListWrapper-BGS1Q98Q.js";import{T as b,a as L}from"./TableDelete-CFN4QaEC.js";import{T as R,a as S,b as i}from"./TableWrapper-COdvPmWW.js";import{T as v}from"./TableEdit-QMS-yEra.js";import{T as M}from"./TableRow-DjyxInc9.js";import{u as w}from"./usePagination-Dl0zsJhW.js";import{L as N}from"./Loading-I9g-LRnp.js";const U=()=>{const r=P(),{page:o,rowsPerPage:n,setTotal:f,renderPagination:x}=w(),[g,h]=a.useState([]),[j,l]=a.useState(!1),c=async()=>{l(!0);try{const e=await A.get(T.city_master.cities,{params:{page:o+1,per_page:n}}),{data:u,pagination:_,city_masters:y}=e,m=u||y||[],C=_?.total||e.total||m.length||0;h(m),f(C)}catch(s){console.log(s)}finally{l(!1)}};return a.useEffect(()=>{c()},[o,n]),t.jsxs(E,{title:"City Master",createOnClick:d.hasPermission("master_data_create_masters")?()=>r(p.CITY_MASTER.CREATE):void 0,children:[j?t.jsx("div",{className:"flex justify-center py-10",children:t.jsx(N,{})}):t.jsxs(R,{children:[t.jsx(S,{cols:[{title:"City Name"},{title:"State"},{title:"Actions"}]}),t.jsx("tbody",{children:g.map((s,e)=>t.jsxs(M,{children:[t.jsx(i,{children:e+1}),t.jsx(i,{children:s.name}),t.jsx(i,{children:s.state?.name||"-"}),d.hasPermission("master_data_update_masters")&&t.jsxs(b,{children:[t.jsx(v,{onClick:()=>r(`${p.CITY_MASTER.CREATE}?id=${s?.id}`)}),t.jsx(L,{refetch:c,endpoint:T.city_master.delete(s?.id)})]})]},e))})]}),x()]})};export{U as default};
