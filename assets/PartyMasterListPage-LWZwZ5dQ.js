import{u,r as i,j as e,H as P,P as m,A as d,e as h,h as b}from"./index-CHv2um3-.js";import{L as w}from"./ListWrapper-uuw8VAoB.js";import{T as A}from"./TableActions-FoDa3IvB.js";import{T as g,a as S,b as a}from"./TableWrapper-BsErbKM7.js";import{T as _}from"./TableDelete-B3qkP8R2.js";import{T as E}from"./TableEdit-MrvyJLH-.js";import{T as y}from"./TableRow-sHM44jzA.js";import{L as R}from"./Loading-sZj5B-qA.js";const Y=()=>{const l=u(),[c,p]=i.useState([]),[x,n]=i.useState(!1),[r,j]=i.useState(""),o=async s=>{n(!0);try{const t={};s&&(t.search=s);const T=await b.get(h.party_master.parties,{params:t}),{parties:N}=T.data;p(N)}catch(t){console.log(t)}finally{n(!1)}};i.useEffect(()=>{o(r)},[r]);const f=s=>{j(s)};return e.jsxs(w,{title:"Party Master",createOnClick:m.hasPermission("master_data_create_parties")?()=>l(d.PARTY_MASTER.CREATE):void 0,children:[e.jsx("div",{className:"mb-4",children:e.jsx(P,{placeholder:"Search by party name...",onSearch:f,className:"w-full sm:w-96"})}),x?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(R,{})}):e.jsxs(g,{children:[e.jsx(S,{cols:[{title:"Vender Name"},{title:"Address"},{title:"Email"},{title:"Mobile No"},{title:"Pin Code"},{title:"State"},{title:"District"},{title:"Actions"}]}),e.jsx("tbody",{children:c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"text-center py-8 text-gray-500",children:r?"No parties found matching your search":"No parties available"})}):c.map((s,t)=>e.jsxs(y,{children:[e.jsx(a,{className:"w-12 text-center font-medium",children:t+1}),e.jsx(a,{className:"w-48",children:s.party_name}),e.jsx(a,{className:"w-64",children:s.address}),e.jsx(a,{className:"w-56",children:s.email}),e.jsx(a,{className:"w-36",children:s.phone}),e.jsx(a,{className:"w-24",children:s.pincode}),e.jsx(a,{className:"w-32",children:s.state}),e.jsx(a,{className:"w-32",children:s.city}),e.jsx(a,{className:"w-20",children:m.hasPermission("master_data_update_masters")&&e.jsxs(A,{children:[e.jsx(E,{onClick:()=>l(`${d.PARTY_MASTER.CREATE}?id=${s.id}`)}),e.jsx(_,{refetch:()=>o(r),endpoint:h.party_master.delete(s?.id)})]})})]},t))})]})]})};export{Y as default};
