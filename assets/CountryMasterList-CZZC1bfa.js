import{u as C,r as i,j as t,P as m,A as p,e as u,h as y}from"./index-BEme_EUt.js";import{L as P}from"./ListWrapper-BEjqc6VH.js";import{T as A}from"./TableActions-D4JklVjJ.js";import{T as E,a as _,b as e}from"./TableWrapper-xBC1zAYs.js";import{T as b}from"./TableDelete-Bx4Sru7-.js";import{T as R}from"./TableEdit-DP4qb6e7.js";import{T as L}from"./TableRow-ZxJSRXVE.js";import{u as N}from"./usePagination-ncXkOQbX.js";import{L as v}from"./Loading-Dz3FfgiZ.js";const Y=()=>{const n=C(),{page:r,rowsPerPage:o,setTotal:T,renderPagination:x}=N(),[f,h]=i.useState([]),[j,l]=i.useState(!1),c=async()=>{l(!0);try{const s=await y.get(u.country_master.countries,{params:{page:r+1,rowsPerPage:o}}),{pagination:a}=s.data,d=s.data,g=a?.total||s.data.total||d.length||0;h(d),T(g)}catch(s){console.log(s)}finally{l(!1)}};return i.useEffect(()=>{c()},[r,o]),t.jsxs(P,{title:"Country Master",createOnClick:m.hasPermission("master_data_read")?()=>n(p.COUNTRY_MASTER.CREATE):void 0,children:[j?t.jsx("div",{className:"flex justify-center py-10",children:t.jsx(v,{})}):t.jsxs(E,{children:[t.jsx(_,{cols:[{title:"Country Name"},{title:"Country Code"},{title:"Actions"}]}),t.jsx("tbody",{children:f.map((s,a)=>t.jsxs(L,{children:[t.jsx(e,{className:"px-5",children:r*o+a+1}),t.jsx(e,{children:s.name}),t.jsx(e,{children:s.code}),m.hasPermission("master_data_update_masters")&&t.jsx(e,{children:t.jsxs(A,{children:[t.jsx(R,{onClick:()=>n(`${p.COUNTRY_MASTER.CREATE}?id=${s?.id}`)}),t.jsx(b,{refetch:c,endpoint:u.country_master.delete(s?.id)})]})})]},a))})]}),x()]})};export{Y as default};
