import{u,r as t,j as e,P as n,A as m,e as p,h as T}from"./index-tcS5gCoO.js";import{L as N}from"./ListWrapper-Bq1Gfq5n.js";import{T as _}from"./TableActions-BTram3Ae.js";import{T as s}from"./TableData-jAiBRPDM.js";import{T as w}from"./TableDelete-DiRjpVQp.js";import{T as P}from"./TableEdit-Cq-Iug0K.js";import{T as A,a as E}from"./TableWrapper-BOyIOkDJ.js";import{T as y}from"./TableRow-B1rFLFiW.js";import{L as B}from"./Loading-BJ2f4d1H.js";import{u as C}from"./usePagination-CjHK27yd.js";const I=()=>{const i=u(),[x,f]=t.useState([]),[b,o]=t.useState(!1),{page:c,rowsPerPage:l,setTotal:g,renderPagination:j}=C(),d=async()=>{o(!0);try{const a=await T.get(p.branches.branch,{params:{page:c+1,per_page:l}}),{branches:r,pagination:h}=a.data.branches;f(r||a.data.branches),h?.last_page!==void 0&&g(h.last_page)}catch(a){console.log(a)}finally{o(!1)}};return t.useEffect(()=>{d()},[c,l]),e.jsxs(N,{title:"Branches",createOnClick:n.hasPermission("branch_management_create")?()=>i(m.BRANCHES.CREATE):void 0,children:[b?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(B,{})}):e.jsxs(A,{children:[e.jsx(E,{cols:[{title:"Branch Name"},{title:"Branch Code"},{title:"Branch Number"},{title:"Email"},{title:"Is Head Office"},{title:"Address"},{title:"Actions"}]}),e.jsx("tbody",{children:x.map((a,r)=>e.jsxs(y,{children:[e.jsx(s,{className:"w-12 text-center font-medium",children:r+1}),e.jsx(s,{className:"w-48",children:a.branch_name}),e.jsx(s,{className:"w-32",children:a.branch_code}),e.jsx(s,{className:"w-36",children:a.phone}),e.jsx(s,{className:"w-64",children:a.email}),e.jsx(s,{className:"w-32",children:e.jsx("span",{className:`status-badge inline-flex items-center justify-center px-2 py-1 text-xs font-medium rounded-full ${a.is_head_office?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,style:{borderRadius:"9999px",filter:"none",boxShadow:"none",border:"none",outline:"none",textShadow:"none"},children:a.is_head_office?"Yes":"No"})}),e.jsx(s,{className:"w-80",children:a.address}),e.jsx(s,{className:"w-20",children:e.jsxs(_,{children:[n.hasPermission("branch_management_update")&&e.jsx(P,{onClick:()=>i(`${m.BRANCHES.CREATE}?id=${a.id}`)}),n.hasPermission("branch_management_delete")&&e.jsx(w,{refetch:d,endpoint:p.branches.delete(a?.id)})]})})]},r))})]}),j()]})};export{I as default};
