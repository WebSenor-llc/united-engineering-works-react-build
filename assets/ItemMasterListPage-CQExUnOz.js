import{a as _,r as i,u as E,j as e,P as d,A as p,e as h,h as P}from"./index-CqGN5vPj.js";import{L as A}from"./ListWrapper-cKOEf2PH.js";import{T as b}from"./TableActions-DG_nkgd8.js";import{T as I,a as y,b as s}from"./TableWrapper-DHyTPTOo.js";import{T as L}from"./TableDelete-M6Jf0wX-.js";import{T as M}from"./TableEdit-zGtEihWE.js";import{T as R}from"./TableRow-BFlejc3A.js";import{u as C}from"./usePagination-2W2fCk2P.js";import{L as S}from"./Loading-BaGxNgjf.js";const O=()=>{const{page:o,rowsPerPage:n,setTotal:x,renderPagination:T}=C(),{selectedBranchId:r}=_(),[f,j]=i.useState([]),[u,l]=i.useState(!1),m=E(),c=async()=>{l(!0);try{const t=await P.get(h.item_master.items,{params:{page:o+1,rowsPerPage:n,...r&&{branch_id:r}}}),{items:a,pagination:g}=t.data;j(a),x(g.total)}catch(t){console.log(t)}finally{l(!1)}};return i.useEffect(()=>{c()},[o,n,r]),e.jsxs(A,{title:"Item Master",createOnClick:d.hasPermission("master_data_create_items")?()=>m(p.ITEM_MASTER.CREATE):void 0,children:[u?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(S,{})}):e.jsxs(I,{children:[e.jsx(y,{cols:[{title:"Item Name"},{title:"Item Code"},{title:"Quantity"},{title:"Actions"}]}),e.jsx("tbody",{children:f.map((t,a)=>e.jsxs(R,{children:[e.jsx(s,{className:"px-5",children:a+1}),e.jsx(s,{children:t.item_name}),e.jsx(s,{children:t.item_code}),e.jsx(s,{children:t.current_stock}),d.hasPermission("master_data_update_masters")&&e.jsx(s,{children:e.jsxs(b,{children:[e.jsx(M,{onClick:()=>m(`${p.ITEM_MASTER.CREATE}?editId=${t.id}`)}),e.jsx(L,{refetch:c,endpoint:h.item_master.delete(t?.id)})]})})]},a))})]}),T()]})};export{O as default};
