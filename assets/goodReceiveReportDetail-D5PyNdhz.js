import{g as j,u as g,r as i,j as e,h as N,e as y,y as p}from"./index-B6B_N_Cs.js";import{L as b}from"./Loading-B-WDmzVe.js";import{B as u}from"./BackButton-J5klvAi3.js";import{T as f,a as v}from"./TableWrapper-Dhfo-hqQ.js";import{T as a}from"./TableData-C5KeAsrw.js";import{T as n}from"./TableRow-BRlLKE6x.js";const I=()=>{const{id:l}=j(),c=g(),[t,m]=i.useState(null),[x,o]=i.useState(!0);i.useEffect(()=>{(async()=>{if(l)try{const r=await N.get(y.grn.details(Number(l))),h=r.data?.grn||r.data?.data||r.data;m(h)}catch(r){console.error("Failed to fetch GRN details:",r),p.error("Failed to load GRN details"),c(-1)}finally{o(!1)}})()},[l,c]);const d=s=>s?new Date(s).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"-";return x?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(b,{})}):t?e.jsxs("div",{className:"w-full h-full overflow-auto space-y-6 p-4 pb-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Goods Receipt Note Details"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View GRN information and received items"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"GRN Information"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"GRN Number"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.grn_number||`GRN-${t.id}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"GRN Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d(t.grn_date)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Number"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.purchase_order?.po_number||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d(t.purchase_order?.po_date)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Challan/Invoice No"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.delivery_challan_no||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Challan Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d(t.delivery_challan_date)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Branch"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.branch?.branch_name||"-"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Vendor Information"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Vendor Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t?.vendor?.party_name||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Company Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t?.vendor?.company_name||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t?.vendor?.phone||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t?.vendor?.email||"-"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t?.vendor?.address||"-"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Received Items"})}),e.jsx("div",{className:"p-6",children:e.jsxs(f,{children:[e.jsx(v,{cols:[{title:"Item Name"},{title:"Item Code"},{title:"Item Description"},{title:"Unit"},{title:"PO Qty"},{title:"Received Qty"},{title:"Short Qty"},{title:"Excess Qty"},{title:"Remarks"}]}),e.jsx("tbody",{children:t.items&&t.items.length>0?t.items.map((s,r)=>e.jsxs(n,{children:[e.jsx(a,{className:"text-center font-medium",children:r+1}),e.jsx(a,{children:s.item?.item_name||"-"}),e.jsx(a,{className:"font-mono text-sm",children:s.item?.item_code||"-"}),e.jsx(a,{className:"text-sm",children:s.item?.item_description||"-"}),e.jsx(a,{className:"text-center",children:s.item?.unit?.unit_name||"-"}),e.jsx(a,{className:"text-center",children:s.purchase_order_quantity||"0"}),e.jsx(a,{className:"text-center font-medium text-green-600",children:s.quantity_received||"0"}),e.jsx(a,{className:"text-center text-red-600",children:s.short_quantity||"0"}),e.jsx(a,{className:"text-center text-blue-600",children:s.excess_quantity||"0"}),e.jsx(a,{className:"text-sm",children:s.remarks||"-"})]},s.id)):e.jsx(n,{children:e.jsx("td",{colSpan:9,className:"text-center py-8 text-gray-500",children:"No items found"})})})]})})]})]}):e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"text-gray-500",children:"GRN not found"})})};export{I as default};
