import{l as j,u as N,r as i,j as e,h as g,e as y,y as b}from"./index-CVLuNvHl.js";import{L as p}from"./Loading-DNOjMSnZ.js";import{B as u}from"./BackButton-OhCUJKaV.js";import{T as f,a as v,b as a}from"./TableWrapper-4tTsxnyx.js";import{T as n}from"./TableRow-JWYm0EGd.js";const D=()=>{const{id:l}=j(),c=N(),[s,m]=i.useState(null),[x,o]=i.useState(!0);i.useEffect(()=>{(async()=>{if(l)try{const r=await g.get(y.grn.details(Number(l))),h=r.data?.grn||r.data?.data||r.data;m(h)}catch(r){console.error("Failed to fetch GRN details:",r),b.error("Failed to load GRN details"),c(-1)}finally{o(!1)}})()},[l,c]);const d=t=>t?new Date(t).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"-";return x?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(p,{})}):s?e.jsxs("div",{className:"w-full h-full overflow-auto space-y-6 p-4 pb-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Goods Receipt Note Details"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View GRN information and received items"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"GRN Information"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"GRN Number"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.grn_number||`GRN-${s.id}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"GRN Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d(s.grn_date)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Number"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.purchase_order?.po_number||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d(s.purchase_order?.po_date)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Challan/Invoice No"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.delivery_challan_no||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Challan Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d(s.delivery_challan_date)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Branch"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.branch?.branch_name||"-"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Vendor Information"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Vendor Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s?.vendor?.party_name||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Company Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s?.vendor?.company_name||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s?.vendor?.phone||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s?.vendor?.email||"-"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s?.vendor?.address||"-"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Received Items"})}),e.jsx("div",{className:"p-6",children:e.jsxs(f,{children:[e.jsx(v,{cols:[{title:"Item Name"},{title:"Item Code"},{title:"Item Description"},{title:"Unit"},{title:"PO Qty"},{title:"Received Qty"},{title:"Short Qty"},{title:"Excess Qty"},{title:"Remarks"}]}),e.jsx("tbody",{children:s.items&&s.items.length>0?s.items.map((t,r)=>e.jsxs(n,{children:[e.jsx(a,{className:"text-center font-medium",children:r+1}),e.jsx(a,{children:t.item?.item_name||"-"}),e.jsx(a,{className:"font-mono text-sm",children:t.item?.item_code||"-"}),e.jsx(a,{className:"text-sm",children:t.item?.item_description||"-"}),e.jsx(a,{className:"text-center",children:t.item?.unit?.unit_name||"-"}),e.jsx(a,{className:"text-center",children:t.purchase_order_quantity||"0"}),e.jsx(a,{className:"text-center font-medium text-green-600",children:t.quantity_received||"0"}),e.jsx(a,{className:"text-center text-red-600",children:t.short_quantity||"0"}),e.jsx(a,{className:"text-center text-blue-600",children:t.excess_quantity||"0"}),e.jsx(a,{className:"text-sm",children:t.remarks||"-"})]},t.id)):e.jsx(n,{children:e.jsx("td",{colSpan:9,className:"text-center py-8 text-gray-500",children:"No items found"})})})]})})]})]}):e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"text-gray-500",children:"GRN not found"})})};export{D as default};
