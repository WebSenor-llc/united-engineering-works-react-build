import{a as u,r as c,j as s,h as m}from"./index-DQLLPGln.js";import{C as p}from"./index.esm-wpl3r5_B.js";const f=({control:l,name:x,label:r,error:a,branchId:n})=>{const{selectedBranchId:o}=u(),[d,i]=c.useState([]),h=async()=>{const t=n||o;if(t)try{const e=await m.get("/users/all",{params:{per_page:1e3,branch_id:t}});i(e.data?.users||[])}catch(e){console.error("Failed to fetch users",e)}};return c.useEffect(()=>{h()},[o,n]),s.jsx(p,{name:x,control:l,render:({field:t})=>s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:[r," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{...t,value:t.value?.toString()||"",onChange:e=>t.onChange(e.target.value),className:"w-full h-11 rounded-lg border border-gray-300 px-3 text-sm bg-white",children:[s.jsxs("option",{value:"",children:["Select ",r]}),d.map(e=>s.jsx("option",{value:e.id.toString(),children:e.username},e.id))]}),a&&s.jsx("span",{className:"text-red-500 text-xs",children:a})]})})};export{f as B};
