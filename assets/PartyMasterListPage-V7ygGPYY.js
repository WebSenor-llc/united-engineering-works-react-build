import{u as g,a as A,r,j as e,P as m,A as p,e as h,h as N}from"./index-B2Kq7pF4.js";import{L as _}from"./ListWrapper-BCNScaty.js";import{T as w}from"./TableActions-v4FwT6Lt.js";import{T as b,a as E,b as a}from"./TableWrapper-jqHXbh_L.js";import{T as R}from"./TableDelete-DKVpIjq0.js";import{T as L}from"./TableEdit-DKIDQymF.js";import{T as S}from"./TableRow-BJlAj-zV.js";import{u as C}from"./usePagination-Cnfjy3pF.js";import{L as M}from"./Loading-OOr2nQlv.js";const I=()=>{const l=g(),{page:o,rowsPerPage:n,setTotal:x,renderPagination:j}=C(),{selectedBranchId:i}=A(),[T,f]=r.useState([]),[P,c]=r.useState(!1),d=async()=>{c(!0);try{const s=await N.get(h.party_master.parties,{params:{page:o+1,rowsPerPage:n,...i&&{branch_id:i}}}),{parties:t,pagination:u}=s.data;f(t),x(u.total)}catch(s){console.log(s)}finally{c(!1)}};return r.useEffect(()=>{d()},[o,n,i]),e.jsxs(_,{title:"Party Master",createOnClick:m.hasPermission("master_data_create_parties")?()=>l(p.PARTY_MASTER.CREATE):void 0,children:[P?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(M,{})}):e.jsxs(b,{children:[e.jsx(E,{cols:[{title:"Vender Name"},{title:"Address"},{title:"Email"},{title:"Mobile No"},{title:"Pin Code"},{title:"State"},{title:"District"},{title:"Actions"}]}),e.jsx("tbody",{children:T.map((s,t)=>e.jsxs(S,{children:[e.jsx(a,{className:"w-12 text-center font-medium",children:t+1}),e.jsx(a,{className:"w-48",children:s.party_name}),e.jsx(a,{className:"w-64",children:s.address}),e.jsx(a,{className:"w-56",children:s.email}),e.jsx(a,{className:"w-36",children:s.phone}),e.jsx(a,{className:"w-24",children:s.pincode}),e.jsx(a,{className:"w-32",children:s.state}),e.jsx(a,{className:"w-32",children:s.city}),e.jsx(a,{className:"w-20",children:m.hasPermission("master_data_update_masters")&&e.jsxs(w,{children:[e.jsx(L,{onClick:()=>l(`${p.PARTY_MASTER.CREATE}?id=${s.id}`)}),e.jsx(R,{refetch:d,endpoint:h.party_master.delete(s?.id)})]})})]},t))})]}),j()]})};export{I as default};
