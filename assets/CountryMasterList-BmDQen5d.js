import{u as C,r as e,j as t,P as m,A as p,e as u,h as y}from"./index-pN5-d-m8.js";import{L as P}from"./ListWrapper-CqihWRKm.js";import{T as A}from"./TableActions-DGk_iS9Q.js";import{T as E,a as _,b as r}from"./TableWrapper-CZQA7s35.js";import{T as b}from"./TableDelete-WFkQ4OjU.js";import{T as R}from"./TableEdit-DklRpmAs.js";import{T as L}from"./TableRow-BiiWmwvS.js";import{u as N}from"./usePagination-C2sJmyrq.js";import{L as v}from"./Loading-C_BG2GFI.js";const Y=()=>{const o=C(),{page:i,rowsPerPage:n,setTotal:T,renderPagination:f}=N(),[x,h]=e.useState([]),[j,l]=e.useState(!1),c=async()=>{l(!0);try{const s=await y.get(u.country_master.countries,{params:{page:i+1,rowsPerPage:n}}),{pagination:a}=s.data,d=s.data,g=a?.total||s.data.total||d.length||0;h(d),T(g)}catch(s){console.log(s)}finally{l(!1)}};return e.useEffect(()=>{c()},[i,n]),t.jsxs(P,{title:"Country Master",createOnClick:m.hasPermission("master_data_read")?()=>o(p.COUNTRY_MASTER.CREATE):void 0,children:[j?t.jsx("div",{className:"flex justify-center py-10",children:t.jsx(v,{})}):t.jsxs(E,{children:[t.jsx(_,{cols:[{title:"Country Name"},{title:"Country Code"},{title:"Actions"}]}),t.jsx("tbody",{children:x.map((s,a)=>t.jsxs(L,{children:[t.jsx(r,{className:"px-5",children:a+1}),t.jsx(r,{children:s.name}),t.jsx(r,{children:s.code}),m.hasPermission("master_data_update_masters")&&t.jsxs(A,{children:[t.jsx(R,{onClick:()=>o(`${p.COUNTRY_MASTER.CREATE}?id=${s?.id}`)}),t.jsx(b,{refetch:c,endpoint:u.country_master.delete(s?.id)})]})]},a))})]}),f()]})};export{Y as default};
