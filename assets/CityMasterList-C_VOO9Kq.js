import{u as P,r as a,j as s,P as m,A as d,e as p,h as A}from"./index-pN5-d-m8.js";import{L as E}from"./ListWrapper-CqihWRKm.js";import{T as b}from"./TableActions-DGk_iS9Q.js";import{T as L,a as R,b as i}from"./TableWrapper-CZQA7s35.js";import{T as S}from"./TableDelete-WFkQ4OjU.js";import{T as v}from"./TableEdit-DklRpmAs.js";import{T as M}from"./TableRow-BiiWmwvS.js";import{u as N}from"./usePagination-C2sJmyrq.js";import{L as w}from"./Loading-C_BG2GFI.js";const q=()=>{const r=P(),{page:o,rowsPerPage:n,setTotal:T,renderPagination:f}=N(),[x,j]=a.useState([]),[h,l]=a.useState(!1),c=async()=>{l(!0);try{const e=await A.get(p.city_master.cities,{params:{page:o+1,rowsPerPage:n}}),{data:g,pagination:u,city_masters:y}=e,_=g||y||[],C=u?.total;j(_),T(C)}catch(t){console.log(t)}finally{l(!1)}};return a.useEffect(()=>{c()},[o,n]),s.jsxs(E,{title:"City Master",createOnClick:m.hasPermission("master_data_create_masters")?()=>r(d.CITY_MASTER.CREATE):void 0,children:[h?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(w,{})}):s.jsxs(L,{children:[s.jsx(R,{cols:[{title:"City Name"},{title:"State"},{title:"Actions"}]}),s.jsx("tbody",{children:x.map((t,e)=>s.jsxs(M,{children:[s.jsx(i,{className:"px-5",children:e+1}),s.jsx(i,{children:t.name}),s.jsx(i,{children:t.state?.name||"-"}),m.hasPermission("master_data_update_masters")&&s.jsxs(b,{children:[s.jsx(v,{onClick:()=>r(`${d.CITY_MASTER.CREATE}?id=${t?.id}`)}),s.jsx(S,{refetch:c,endpoint:p.city_master.delete(t?.id)})]})]},e))})]}),f()]})};export{q as default};
