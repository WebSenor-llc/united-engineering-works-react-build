import{g as w,u as C,r as x,j as e,A as D,h as O,e as P,y as q,D as F}from"./index-B6B_N_Cs.js";import{B as I}from"./BackButton-J5klvAi3.js";import{T as b,a as p}from"./TableWrapper-Dhfo-hqQ.js";import{T as l}from"./TableData-C5KeAsrw.js";import{T as N}from"./TableRow-BRlLKE6x.js";const B=()=>{const{id:c}=w(),h=C(),[t,y]=x.useState(null),[g,j]=x.useState(!0);x.useEffect(()=>{(async()=>{if(!c){console.log("No ID provided"),j(!1);return}try{console.log("Fetching job order details for ID:",c);const r=await O.get(P.job_order.details(Number(c)));console.log("API Response:",r.data);const n=r.data?.data?.job_card||r.data?.job_card||r.data?.jobOrder||r.data;console.log("Processed data:",n),y(n)}catch(r){console.error("Failed to fetch Job Order details:",r),q.error("Failed to load Job Order details")}finally{j(!1)}})()},[c,h]);const i=s=>s?F.date(s):"-",d=s=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(s),f=s=>{switch(s?.toLowerCase()){case"pending":case"pending_approval":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"in_progress":case"in progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"on_hold":case"on hold":return"bg-orange-100 text-orange-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=s=>{if(!s)return"bg-gray-100 text-gray-800";switch(s.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":case"in progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"on_hold":case"on hold":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},_=s=>s.status_badge?.text?s.status_badge.text:s.status?s.status.replace(/_/g," "):"Not Started",k=()=>{if(!t)return[];const s=[t.documents,t.attachments,t.files,t.uploaded_files].filter(Boolean),r=(t.image_path||[]).map(a=>({url:a,name:a.split("/").pop()||"File",type:"auto"}));return[...s.flat(),...r].filter(a=>typeof a=="string"?!0:a&&(a.url||a.file_path||a.path)).map(a=>{let m,o;return typeof a=="string"?(m=a,o=a.split("/").pop()||"File"):(m=a.url||a.file_path||a.path,o=a.name||a.file_name||a.original_name||a.filename||(typeof m=="string"?m.split("/").pop():"File")),{name:o,url:m}})};if(console.log("Component render - loading:",g,"jobOrder:",t,"id:",c),g)return e.jsx("div",{className:"w-full h-full flex justify-center items-center py-20",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading job order details..."})]})});if(!t)return e.jsxs("div",{className:"flex flex-col justify-center items-center py-20",children:[e.jsx("div",{className:"text-gray-500 mb-4",children:"Job Order not found"}),e.jsxs("div",{className:"text-sm text-gray-400",children:["ID: ",c]}),e.jsx("button",{onClick:()=>h(D.JOB_ORDER.LIST),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Back to Job Orders"})]});const u=k();return e.jsxs("div",{className:"w-full h-full overflow-auto space-y-6 p-4 pb-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Job Order Details"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View job order information and related details"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Job Order Information"}),e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${f(t.status)}`,children:t.status?.replace(/_/g," ")})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Job Card Number"}),e.jsx("p",{className:"mt-1 text-sm font-semibold text-gray-900",children:t.job_card_number||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Job Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.job_name||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Job Type"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:t.job_type?.replace(/_/g," ")||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Department"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.department||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Priority"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:t.priority||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Quantity"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.quantity||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Job Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i(t.job_date)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Expected Delivery Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i(t.expected_delivery_date)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i(t.created_at)})]}),t.actual_completion_date&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Actual Completion Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i(t.actual_completion_date)})]}),t.actual_delivery_date&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Actual Delivery Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i(t.actual_delivery_date)})]}),t.created_by&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created By"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[t.created_by.full_name," (",t.created_by_role,")"]})]})]}),(t.equipment_type||t.equipment_serial_number||t.equipment_make_model)&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-900 mb-4",children:"Equipment Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.equipment_type&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Equipment Type"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.equipment_type})]}),t.equipment_serial_number&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Serial Number"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.equipment_serial_number})]}),t.equipment_make_model&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Make & Model"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.equipment_make_model})]})]})]}),(t.estimated_cost||t.quoted_price||t.actual_total_cost)&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-900 mb-4",children:"Cost Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.estimated_cost&&parseFloat(t.estimated_cost)>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Estimated Cost"}),e.jsx("p",{className:"mt-1 text-sm font-semibold text-blue-600",children:d(parseFloat(t.estimated_cost))})]}),t.quoted_price&&parseFloat(t.quoted_price)>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Quoted Price"}),e.jsx("p",{className:"mt-1 text-sm font-semibold text-green-600",children:d(parseFloat(t.quoted_price))})]}),t.actual_total_cost&&parseFloat(t.actual_total_cost)>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Actual Total Cost"}),e.jsx("p",{className:"mt-1 text-sm font-semibold text-red-600",children:d(parseFloat(t.actual_total_cost))})]}),t.profit_amount&&parseFloat(t.profit_amount)>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Profit Amount"}),e.jsx("p",{className:"mt-1 text-sm font-semibold text-purple-600",children:d(parseFloat(t.profit_amount))})]}),t.profit_margin_percentage&&parseFloat(t.profit_margin_percentage)>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Profit Margin"}),e.jsxs("p",{className:"mt-1 text-sm font-semibold text-purple-600",children:[t.profit_margin_percentage,"%"]})]})]})]}),t.job_description&&e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Job Description"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:t.job_description})]}),t.specifications&&e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Specifications"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:t.specifications})]}),t.remarks&&e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Remarks"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:t.remarks})]})]})]}),(t.customer||t.customer_name)&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Customer Information"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Customer Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer?.party_name||t.customer_name||"-"})]}),t.customer?.party_code&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Customer Code"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.party_code})]}),t.customer?.company_name&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Company Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.company_name})]}),t.customer?.contact_person&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Contact Person"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.contact_person})]}),t.customer?.phone&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.phone})]}),t.customer?.email&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.email})]}),t.customer?.gstin&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"GSTIN"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.gstin})]}),t.customer?.city&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"City"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.city})]}),t.customer?.state&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"State"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.state})]}),t.customer?.pincode&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Pincode"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.pincode})]}),t.customer?.address&&e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.address})]})]})})]}),t.branch&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Branch Information"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Branch Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.branch.branch_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Branch Code"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.branch.branch_code})]}),t.branch.contact_person&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Contact Person"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.branch.contact_person})]}),t.branch.phone&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.branch.phone})]}),t.branch.email&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.branch.email})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.branch.address||"-"})]})]})})]}),t.operations&&t.operations.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Operations (",t.operations.length,")"]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(b,{children:[e.jsx(p,{cols:[{title:"Operation Name"},{title:"Start Date"},{title:"End Date"},{title:"Assigned To"}]}),e.jsx("tbody",{children:t.operations.map(s=>e.jsxs(N,{children:[e.jsx(l,{className:"text-center font-medium",children:s.operation_sequence}),e.jsx(l,{className:"font-medium",children:s.operation_name}),e.jsx(l,{className:"text-sm",children:s.start_date?i(s.start_date):s.start_datetime?i(s.start_datetime):"-"}),e.jsx(l,{className:"text-sm",children:s.end_date?i(s.end_date):s.completion_datetime?i(s.completion_datetime):"-"}),e.jsx(l,{children:s.supervisor?.full_name||s.supervisor?.username||"-"})]},s.id))})]})}),t.operations.some(s=>s.work_description||s.completion_notes||s.remarks)&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-900 mb-4",children:"Operation Details"}),e.jsx("div",{className:"space-y-4",children:t.operations.map(s=>(s.work_description||s.completion_notes||s.remarks)&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[s.operation_sequence,". ",s.operation_name]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v(s.status||null)}`,children:_(s)})]}),s.work_description&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Work Description"}),e.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:s.work_description})]}),s.completion_notes&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Completion Notes"}),e.jsx("p",{className:"text-sm text-gray-900 bg-green-50 p-2 rounded",children:s.completion_notes})]}),s.remarks&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Remarks"}),e.jsx("p",{className:"text-sm text-gray-900 bg-yellow-50 p-2 rounded",children:s.remarks})]})]},`details-${s.id}`))})]})]})]}),t.items&&t.items.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Job Items"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(b,{children:[e.jsx(p,{cols:[{title:"S.No."},{title:"Item Name"},{title:"Item Code"},{title:"Description"},{title:"Unit"},{title:"Quantity"},...t.items.some(s=>s.unit_price)?[{title:"Unit Price"},{title:"Total Price"}]:[]]}),e.jsx("tbody",{children:t.items.map((s,r)=>e.jsxs(N,{children:[e.jsx(l,{className:"text-center font-medium",children:r+1}),e.jsx(l,{children:s.item?.item_name||"-"}),e.jsx(l,{className:"font-mono text-sm",children:s.item?.item_code||"-"}),e.jsx(l,{className:"text-sm",children:s.item?.description||"-"}),e.jsx(l,{className:"text-center",children:s.item?.unit?.unit_symbol||"-"}),e.jsx(l,{className:"text-center",children:s.quantity||"0"}),s.unit_price&&e.jsx(l,{className:"text-right",children:d(s.unit_price)}),s.total_price&&e.jsx(l,{className:"text-right font-medium",children:d(s.total_price)})]},s.id))})]})})})]}),u.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Documents & Attachments"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((s,r)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.name}),e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800",children:"View Document"})]})]})},r))})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Job Summary"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.operations&&t.operations.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.operations.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Operations"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.operations.filter(s=>s.status?.toLowerCase()==="completed").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Completed Operations"})]})]}),t.items&&t.items.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.items.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Items"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.items.reduce((s,r)=>s+(r.quantity||0),0)}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Quantity"})]})]}),t.is_delayed&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.delay_days||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Delay Days"})]})]}),t.operations&&t.operations.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Operations Progress"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[t.operations.filter(s=>s.status?.toLowerCase()==="completed").length," of ",t.operations.length," completed"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${t.operations.filter(s=>s.status?.toLowerCase()==="completed").length/t.operations.length*100}%`}})}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-yellow-600",children:t.operations.filter(s=>!s.status||s.status?.toLowerCase()==="pending").length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-600",children:t.operations.filter(s=>s.status?.toLowerCase()==="in_progress"||s.status?.toLowerCase()==="in progress").length}),e.jsx("div",{className:"text-xs text-gray-500",children:"In Progress"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-green-600",children:t.operations.filter(s=>s.status?.toLowerCase()==="completed").length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Completed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-orange-600",children:t.operations.filter(s=>s.status?.toLowerCase()==="on_hold"||s.status?.toLowerCase()==="on hold").length}),e.jsx("div",{className:"text-xs text-gray-500",children:"On Hold"})]})]})]})]})]})]})};export{B as default};
