import{u as P,r as i,j as s,P as m,A as p,e as d,h as S}from"./index-BYQAWDKy.js";import{L as _}from"./ListWrapper-q3P9wLfd.js";import{T as b}from"./TableActions-C8GQDS6Q.js";import{T as a}from"./TableData-DZNs_4QR.js";import{T as y}from"./TableDelete-C2uArd9V.js";import{T as L}from"./TableEdit-BsbWn9Ja.js";import{T as R,a as C}from"./TableWrapper-DjDxEdMk.js";import{T as v}from"./TableRow-CZT0r12O.js";import{u as M}from"./usePagination-mbYd4YyL.js";import{L as N}from"./Loading-C4qpvyij.js";const B=()=>{const n=P(),{page:r,rowsPerPage:o,setTotal:T,renderPagination:f}=M(),[x,j]=i.useState([]),[g,l]=i.useState(!1),c=async()=>{l(!0);try{const e=await S.get(d.state_master.states,{params:{page:r+1,per_page:o}}),{data:h,pagination:u}=e,A=h.states||[],E=u?.last_page||0;j(A),T(E)}catch(t){console.log(t)}finally{l(!1)}};return i.useEffect(()=>{c()},[r,o]),s.jsxs(_,{title:"State Master",createOnClick:m.hasPermission("master_data_read")?()=>n(p.STATE_MASTER.CREATE):void 0,children:[g?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(N,{})}):s.jsxs(R,{children:[s.jsx(C,{cols:[{title:"State Name"},{title:"Country"},{title:"Actions"}]}),s.jsx("tbody",{children:x.map((t,e)=>s.jsxs(v,{children:[s.jsx(a,{className:"px-5",children:r*o+e+1}),s.jsx(a,{children:t.name}),s.jsx(a,{children:t.country?.name||"-"}),m.hasPermission("master_data_read")&&s.jsx(a,{children:s.jsxs(b,{children:[s.jsx(L,{onClick:()=>n(`${p.STATE_MASTER.CREATE}?id=${t?.id}`)}),s.jsx(y,{refetch:c,endpoint:d.state_master.delete(t?.id)})]})})]},e))})]}),f()]})};export{B as default};
